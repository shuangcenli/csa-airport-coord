{"version":3,"sources":["img/brand/CSA logo.png","loading.js","redux/user.redux.js","redux/airpick.redux.js","redux/lodge.redux.js","reducers.js","component/NavBar/NavBar.js","container/auth/Login.js","container/auth/Register.js","component/Forms/PickModal.js","component/Forms/LodgeModal.js","component/Forms/EditModal.js","component/Forms/VolunteerInfoModal.js","component/Forms/DeleteModal.js","component/Forms/MyReqList.js","component/Forms/LodgeEditModal.js","component/Forms/MyLodgeList.js","component/Forms/MyRequestCenter.js","container/myRequest/MyRequest.js","component/Empty/CustomEmpty.js","component/Volunteer/AirReqList.js","component/Volunteer/LodgeReqList.js","container/Volunteer/AllPickReq.js","container/Volunteer/AllLodgeReq.js","component/Volunteer/CancelModal.js","component/Volunteer/AirAcceptedList.js","component/Volunteer/LodgeAcceptedList.js","container/Volunteer/MyAccept.js","component/UserCenter/EditPassword.js","container/UserCenter/EditPassword.js","component/AuthRoute/PrivateRoute.js","component/UserCenter/EditProfileForm.js","container/UserCenter/EditProfile.js","component/AuthRoute/AuthRoute.js","serviceWorker.js","index.js"],"names":["module","exports","message","config","top","maxCount","axios","interceptors","request","use","loading","response","destroy","initState","redirectTo","msg","username","isAuth","undefined","authSuccess","obj","pwd","type","payload","errorMsg","error","loadData","userinfo","initAirState","myRequests","list","parsePickreqInput","userInput","timeStr","date","time","nyTime","moment","tz","published","publish","airport","arrivalTime","carryon","luggage","notes","loadPickreq","dispatch","get","then","res","data","deletePickreq","id","delete","status","code","loadAcceptedAirpick","volunteer","acceptedList","initLodgeState","lodgeRequests","pickupLocation","startDate","leaveDate","loadLodgereq","deleteLodgereq","loadAcceptedLodge","combineReducers","user","state","action","airpick","acceptedAirPick","lodge","acceptedLodge","Item","SubMenu","NavBar","connect","logoutRedux","withRouter","props","updateWindowSize","e","setState","screenWidth","target","innerWidth","handleOk","modalVisible","browserCookie","erase","history","push","handleCancel","handleUserCenter","subItem","map","item","text","key","onClick","path","logout","window","location","pathname","this","addEventListener","bind","removeAllListener","currItem","deepFilter","arr","filterFunc","i","length","element","filter","v","hide","displayName","Fragment","mode","selectedKeys","choice","className","subList","title","style","verticalAlign","charAt","marginLeft","marginRight","visible","onOk","onCancel","React","Component","Paragraph","LoginForm","login","input","post","Error","formRef","createRef","onFinish","values","catch","onFinishFailed","errorFields","current","scrollToField","name","to","labelCol","xs","span","sm","wrapperCol","ref","label","rules","required","prefix","UserOutlined","color","placeholder","LockOutlined","offset","htmlType","href","RegisterForm","register","email","firstName","lastName","confirm","gender","wechatId","join","registerInfo","handleEmailChange","value","test","emailValid","handleSendButton","a","async","getFieldValue","success","codeResendLoading","interval","setInterval","codeResendCoolTime","clearInterval","warning","err","emailValidator","rule","Promise","resolve","reject","phoneValidator","compareToFirstPassword","confirmDirty","validator","onChange","hasFeedback","Password","dependencies","Group","gutter","noStyle","disabled","TextArea","PickreqForm","onCreate","requirement","width","validateFields","resetFields","info","disabledDate","endOf","format","autoFocus","min","max","LodgereqForm","lodgeFormRef","EditForm","initialValues","VolunteerInfoModal","volunteerInfo","fontStyle","fontSize","phone","DeleteModal","isAirpick","reqID","closeModal","useDispatch","WarningTwoTone","Column","Step","MyReqList","updatePickreq","reqId","put","updateSuccess","handleEdit","handleDelete","deleteModalVisible","deleteReqID","handleSubmit","updatePickReqVal","updateForm","showVolunteerInfo","volunteerInfoVisible","closeVolunteerModal","closeDeleteModal","_id","dataSource","pagination","dataIndex","render","record","icon","EditOutlined","shape","DeleteOutlined","CheckCircleTwoTone","twoToneColor","LoadingOutlined","EditModal","wrappedComponentRef","LodgeEditForm","prevProps","lodgeData","lodgeVisible","MyLodgeList","updateLodgereq","updateLodgeReqVal","LodgeEditModal","RequestCenter","addPickreq","addLodgereq","showModal","showLodgeModal","lodgeHandleCancel","newPickreqValues","lodgeHandleSubmit","newLodgereqValues","saveForm","confirmLoading","myReq","previousReq","previousLodgeReq","textAlign","PlusOutlined","Title","MyRequest","onCollapse","collapsed","padding","level","RenderEmpty","InboxOutlined","AirReqList","loadAllReq","reqList","sort","b","Date","getTime","acceptReq","newList","acceptSuc","handleAccept","renderEmpty","hideOnSinglePage","showQuickJumper","tableLayout","size","LodgeReqList","createdAt","AllPickReq","AllLodgeReq","CancelModal","reqType","changeVsb","volunteerId","cancelRequest","cancelLodgeRequest","AirAcceptedList","useState","modalState","setModalState","cancelModal","setCancelModal","userState","useSelector","reqState","acceptedReq","pageSize","userInfo","vsb","LodgeAcceptedList","MyAccept","useEffect","ChangePassword","useHistory","useForm","form","newPassword","newPass","oldPassword","oldPass","errorInfo","EditPassword","PrivateRoute","component","rest","publicPath","indexOf","EditProfileForm","setFieldsValue","userProfile","resdata","editProfile","errorfields","EditProfile","Home","src","require","alt","NoMatch","AuthRoute","home","auth","needAuth","userAuth","Register","Login","allRouteList","navList","routers","forEach","op","exact","it","navListRouting","Boolean","hostname","match","store","createStore","reducers","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","f","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4d2fd282.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/CSA logo.9899b8fd.png\";","import axios from 'axios';\nimport { message } from 'antd';\n\nmessage.config({\n\ttop: 50,\n\tmaxCount: 1\n});\n//intercept requetsts\naxios.interceptors.request.use(function (config) {\n\tmessage.loading('loading', 0);\n\treturn config;\n});\n\n//intercept response\naxios.interceptors.response.use(function (config) {\n\tmessage.destroy();\n\treturn config;\n});\n","import axios from 'axios';\nimport { message } from 'antd';\n// action\nconst LOAD_DATA = 'LOAD_DATA';\nconst AUTH_SUCC = 'AUTH_SUCC';\nconst LOGOUT = 'LOGOUT';\nconst ERROR_MSG = 'ERROR_MSG';\n\nconst initState = {\n\tredirectTo: '',\n\tmsg: '',\n\tusername: '',\n\tisAuth: undefined\n};\n\n//reducer\nexport function userRedux (state = initState, action) {\n\tswitch (action.type) {\n\tcase LOAD_DATA:\n\t\treturn { ...state, ...action.payload, isAuth: true };\n\tcase AUTH_SUCC:\n\t\treturn {\n\t\t\t...state,\n\t\t\tmsg: '',\n\t\t\t...action.payload,\n\t\t\tisAuth: true,\n\t\t\tredirectTo: '/'\n\t\t};\n\tcase ERROR_MSG:\n\t\treturn { ...state, isAuth: false, msg: action.msg };\n\tcase LOGOUT:\n\t\treturn { ...initState };\n\tdefault:\n\t\treturn state;\n\t}\n}\n\n//helper\nconst authSuccess = obj => {\n\tconst { pwd, ...data } = obj;\n\treturn { type: AUTH_SUCC, payload: data };\n};\n\nfunction errorMsg (msg) {\n\tmessage.error(msg);\n\treturn { msg, type: ERROR_MSG };\n}\n\n//对外暴露的action creator\nexport function loadData (userinfo) {\n\treturn { type: LOAD_DATA, payload: userinfo };\n}\n\nexport function logoutRedux () {\n\treturn { type: LOGOUT };\n}\n\nexport function login ({ input, pwd }) {\n\t// // console.log(input, pwd);\n\tif (!input || !pwd) {\n\t\treturn errorMsg('missing fields!');\n\t}\n\n\treturn dispatch => {\n\t\treturn axios.post('/api/user/login', { input, pwd }).then(res => {\n\t\t\tif (res.status === 200 && res.data.code === 0) {\n\t\t\t\tdispatch(authSuccess(res.data.data));\n\t\t\t} else {\n\t\t\t\tdispatch(errorMsg(res.data.msg));\n\t\t\t\tthrow new Error('Failed to authenticate this user!');\n\t\t\t}\n\t\t});\n\t};\n}\n\n//editProfile\nexport function editProfile (userProfile) {\n\tif (!userProfile.firstName || !userProfile.lastName || !userProfile.email) {\n\t\treturn errorMsg('missing Fields');\n\t}\n\n\tconst displayName = [userProfile.firstName, userProfile.lastName].join(' ');\n\tuserProfile = { ...userProfile, displayName: displayName };\n\n\treturn dispatch => {\n\t\taxios.put('/api/user/editProfile', { userProfile }).then(res => {\n\t\t\tif (res.status === 200 && res.data.code === 0) {\n\t\t\t\tconst resdata = res.data.data;\n\n\t\t\t\tdispatch(loadData({ ...resdata, displayName }));\n\t\t\t\tmessage.success('Update Successfully!');\n\t\t\t} else {\n\t\t\t\tmessage.error(res.data.msg);\n\t\t\t}\n\t\t});\n\t};\n}\n\nexport function register (userInput) {\n\t// // console.log(userInput);\n\tconst {\n\t\temail,\n\t\tfirstName,\n\t\tlastName,\n\t\tpwd,\n\t\tconfirm,\n\t\tgender,\n\t\twechatId,\n\t\tusername,\n\t} = userInput;\n\tif (\n\t\t!email ||\n\t\t!firstName ||\n\t\t!lastName ||\n\t\t!pwd ||\n\t\tpwd !== confirm ||\n\t\t!gender ||\n\t\t!wechatId ||\n\t\t!username\n\t) {\n\t\treturn errorMsg('missing fields!');\n\t}\n\tconst displayName = [firstName, lastName].join(' ');\n\tconst registerInfo = { ...userInput, displayName: displayName };\n\n\treturn dispatch => {\n\t\taxios.post('/api/user/register', registerInfo).then(res => {\n\t\t\tif (res.status === 200 && res.data.code === 0) {\n\t\t\t\tdispatch(authSuccess(res.data.data));\n\t\t\t} else {\n\t\t\t\tdispatch(errorMsg(res.data.msg));\n\t\t\t}\n\t\t});\n\t};\n}\n","import axios from 'axios';\nimport moment from 'moment-timezone';\nimport { message } from 'antd';\n// action\nconst LOAD_REQ = 'LOAD_REQ';\nconst LOAD_ALL = 'LOAD_ALL';\nconst UPDATE_SUC = 'UPDATE_SUC';\nconst ERROR_SUBMIT = 'ERROR_SUBMIT';\nconst DELETE_SUC = 'DELETE_SUC';\nconst ACCEPT_REQ_SUC = 'ACCEPT_REQ_SUC';\nconst LOAD_ACCEPTED_AIR_SUC = 'LOAD_ACCEPTED_AIR_SUC';\nconst ADD_SUC = 'ADD_SUC';\n\nconst initAirState = {\n\tmsg: '',\n\tredirectTo: '',\n\tusername: '',\n\tmyRequests: [], // current user's requust\n\tlist: [] // all request [{key: int, request: reqObj, user: userObj}]\n};\n// store\n\n//reducer\nexport function airpickRedux (state = initAirState, action) {\n\tswitch (action.type) {\n\tcase LOAD_ALL:\n\t\treturn { ...state, list: action.payload, msg: action.msg };\n\tcase LOAD_REQ:\n\t\treturn { ...state, myRequests: action.payload };\n\tcase ERROR_SUBMIT:\n\t\treturn { ...state, msg: action.msg };\n\tcase ADD_SUC:\n\t\treturn { ...state, myRequests: action.payload };\n\tcase UPDATE_SUC:\n\t\treturn {\n\t\t\t...state,\n\t\t\tmsg: action.msg,\n\t\t\tmyRequests: action.payload,\n\t\t\tredirectTo: '/myrequest'\n\t\t};\n\tcase DELETE_SUC:\n\t\treturn { ...state, msg: action.msg };\n\tcase ACCEPT_REQ_SUC:\n\t\treturn { ...state, msg: action.msg, list: action.payload };\n\tcase LOAD_ACCEPTED_AIR_SUC:\n\t\treturn { ...state, msg: action.msg, acceptedAirPick: action.acceptedList };\n\tdefault:\n\t\treturn state;\n\t}\n}\n\n//helper\nfunction errorMsg (msg) {\n\tmessage.error(msg);\n\treturn { type: ERROR_SUBMIT, msg: msg }; // =>action\n}\n\nfunction loadReq (request) {\n\t// console.log(request);\n\treturn { type: LOAD_REQ, payload: request };\n}\n\nfunction updateSuccess (request) {\n\treturn { type: UPDATE_SUC, msg: 'Update Successfully!', payload: request };\n}\n\nfunction addReqSuccess (reqList) {\n\treturn { type: ADD_SUC, payload: reqList };\n}\n\nfunction deleteSuccess () {\n\treturn { type: DELETE_SUC, msg: 'delete successfully' };\n}\n\nfunction getListSuc (list) {\n\treturn { type: LOAD_ALL, msg: 'Get list success', payload: list };\n}\n\nfunction acceptSuc (msg, newList) {\n\treturn { type: ACCEPT_REQ_SUC, msg: msg, payload: newList };\n}\n\nfunction loadAcceptReqSuc (msg, acceptedList) {\n\t// console.log(2);\n\treturn { type: LOAD_ACCEPTED_AIR_SUC, msg, acceptedList };\n}\n\nconst parsePickreqInput = userInput => {\n\tconst timeStr = userInput.date + ' ' + userInput.time;\n\tconst nyTime = moment.tz(timeStr, 'America/New_York');\n\tconst request = {\n\t\tpublished: userInput.publish,\n\t\tairport: userInput.airport,\n\t\tarrivalTime: nyTime,\n\t\tcarryon: userInput.carryon,\n\t\tluggage: userInput.luggage,\n\t\tnotes: userInput.notes\n\t};\n\n\treturn request;\n};\n// action creator\n\n// load current user's pickreq\nexport function loadPickreq (username) {\n\t// load pickreq from db once and save it inside the redux store\n\t// console.log('loading existing pick req in redux %s', username);\n\treturn dispatch => {\n\t\treturn axios\n\t\t\t.get(`/api/requests/user/${username}`)\n\t\t\t.then(res => dispatch(loadReq(res.data.data)));\n\t};\n}\n\n// add a new pickreq\nexport const addPickreq = userInput => {\n\tconst username = userInput.username;\n\tconst request = parsePickreqInput(userInput);\n\t\n\treturn dispatch => {\n\t\treturn axios.post(`/api/requests/user/${username}`, request)\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\tmessage.success(res.data.msg);\n\t\t\t\t\tdispatch(addReqSuccess(res.data.data));\n\t\t\t\t} else {\n\t\t\t\t\tmessage.error(res.data.msg);\n\t\t\t\t}\n\t\t\t});\n\t};\n};\n\n// update a published pickreq\nexport function updatePickreq (userInput, reqId) {\n\tif (\n\t\t!userInput.airport ||\n\t\t!userInput.date ||\n\t\t!userInput.time ||\n\t\tuserInput.publish == null\n\t) {\n\t\t// console.log(userInput);\n\t\treturn errorMsg('Missing key fields!');\n\t}\n\tconst username = userInput.username;\n\tconst request = parsePickreqInput(userInput);\n\n\treturn dispatch => {\n\t\treturn axios\n\t\t\t.put(`/api/requests/user/${username}`, { request, reqId }) //promise   //RESTful api\n\t\t\t.then(\n\t\t\t\tres => {\n\t\t\t\t\tif (res.status === 200 && res.data.code === 0) {\n\t\t\t\t\t\tdispatch(updateSuccess(res.data.data));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdispatch(errorMsg('Error happened when update!'));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terr => {\n\t\t\t\t\t// console.log(err.stack);\n\t\t\t\t\tdispatch(errorMsg('Error happened when update!'));\n\t\t\t\t}\n\t\t\t);\n\t};\n}\n\n// delete an published pickreq\nexport function deletePickreq (id, username) {\n\treturn dispatch => {\n\t\t// // console.log('deleting request', id);\n\t\treturn axios.delete(`/api/requests/request/${id}`).then(res => {\n\t\t\tif (res.status === 200 && res.data.code === 0) {\n\t\t\t\tdispatch(deleteSuccess());\n\t\t\t\tdispatch(loadPickreq(username));\n\t\t\t} else {\n\t\t\t\tdispatch(errorMsg('Error happened when deleting this record!'));\n\t\t\t}\n\t\t});\n\t};\n}\n\n// for volunteer center page. List all the current available requests\nexport function loadAllReq () {\n\treturn dispatch => {\n\t\t// console.log('loading all the request');\n\t\treturn axios.get('/api/requests/list').then(res => {\n\t\t\tif (res.status === 200 && res.data.code === 0) {\n\t\t\t\t// // console.log(res.data.reqList)\n\t\t\t\tres.data.reqList.sort(\n\t\t\t\t\t(a, b) =>\n\t\t\t\t\t\tnew Date(a.request.arrivalTime).getTime() -\n\t\t\t\t\t\tnew Date(b.request.arrivalTime).getTime()\n\t\t\t\t);\n\t\t\t\tdispatch(getListSuc(res.data.reqList));\n\t\t\t} else {\n\t\t\t\tdispatch(errorMsg('Error happened when getting the request list'));\n\t\t\t}\n\t\t});\n\t};\n}\n\n// for volunteer to accept one request\nexport function acceptReq (reqId, username, reqList) {\n\tconst newList = reqList.filter(item => item.request._id !== reqId);\n\treturn dispatch => {\n\t\t// console.log(`${username} requesting the request ${reqId}`);\n\t\treturn axios\n\t\t\t.post(`/api/requests/request/${reqId}`, { volunteer: username })\n\t\t\t.then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t// console.log(res.data);\n\t\t\t\t\tdispatch(acceptSuc(res.data.msg, newList));\n\t\t\t\t} else {\n\t\t\t\t\t// console.error(res.data.err);\n\t\t\t\t\tdispatch(errorMsg(res.data.msg));\n\t\t\t\t}\n\t\t\t});\n\t};\n}\n\n// load all accepted request as a volunteer\nexport const loadAcceptedAirpick = volunteer => {\n\treturn dispatch => {\n\t\treturn axios.get(`/api/requests/volunteer/${volunteer}`).then(res => {\n\t\t\tif (res.status === 200) {\n\t\t\t\t// console.log('load air accept',res.data.acceptedList);\n\n\t\t\t\tdispatch(loadAcceptReqSuc(res.data.msg, res.data.acceptedList));\n\t\t\t}\n\t\t});\n\t};\n};\n\n// volunteer cancel request\nexport const cancelRequest = (reqId, volunteerId) => {\n\n\treturn dispatch => {\n\t\treturn axios\n\t\t\t.put(`/api/requests/cancel/${reqId}`)\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.code === 1) {\n\t\t\t\t\tdispatch(errorMsg(res.data.msg));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// console.log(res.data.msg);\n\t\t\t\t// console.log(volunteerId);\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn dispatch(loadAcceptedAirpick(volunteerId));\n\t\t\t});\n\t};\n};\n\n\n","import axios from 'axios';\nimport moment from 'moment-timezone';\nimport { message } from 'antd';\n// action\nconst LOAD_LODGE = 'LOAD_LODGE';\nconst LOAD_LODGE_ALL = 'LOAD_LODGE_ALL';\nconst UPDATE_LODGE_SUC = 'UPDATE_LODGE_SUC';\nconst ERROR_LODGE_SUBMIT = 'ERROR_LODGE_SUBMIT';\nconst DELETE_LODGE_SUC = 'DELETE_LODGE_SUC';\nconst ACCEPT_LODGE_REQ_SUC = 'ACCEPT_LODGE_REQ_SUC';\nconst LOAD_ACCEPTED_LODGE_SUC = 'LOAD_ACCEPTED_LODGE_SUC';\nconst ADD_LODGE_SUC = 'ADD_LODGE_SUC';\n\nconst initLodgeState = {\n\tmsg: '',\n\tredirectTo: '',\n\tusername: '',\n\tlodgeRequests: [], // current user's requust\n\tlist: [] // all request [{key: int, request: reqObj, user: userObj}]\n};\n// store\n\n//reducer\nexport function lodgeRedux (state = initLodgeState, action) {\n\tswitch (action.type) {\n\tcase LOAD_LODGE_ALL:\n\t\treturn { ...state, list: action.payload, msg: action.msg };\n\tcase LOAD_LODGE:\n\t\treturn { ...state, lodgeRequests: action.payload };\n\tcase ERROR_LODGE_SUBMIT:\n\t\treturn { ...state, msg: action.msg };\n\tcase ADD_LODGE_SUC:\n\t\treturn { ...state, lodgeRequests: action.payload };\n\tcase UPDATE_LODGE_SUC:\n\t\treturn {\n\t\t\t...state,\n\t\t\tmsg: action.msg,\n\t\t\tlodgeRequests: action.payload,\n\t\t\tredirectTo: '/myrequest'\n\t\t};\n\tcase DELETE_LODGE_SUC:\n\t\treturn { ...state, msg: action.msg };\n\tcase ACCEPT_LODGE_REQ_SUC:\n\t\treturn { ...state, msg: action.msg, list: action.payload };\n\tcase LOAD_ACCEPTED_LODGE_SUC:\n\t\treturn { ...state, msg: action.msg, acceptedLodge: action.acceptedList };\n\tdefault:\n\t\treturn state;\n\t}\n}\n\n//helper\nfunction errorMsg (msg) {\n\tmessage.error(msg);\n\treturn { type: ERROR_LODGE_SUBMIT, msg: msg }; // =>action\n}\n\nfunction loadReq (request) {\n\t// console.log(request);\n\treturn { type: LOAD_LODGE, payload: request };\n}\n\nfunction updateSuccess (request) {\n\treturn { type: UPDATE_LODGE_SUC, msg: 'Update Successfully!', payload: request };\n}\n\nfunction addReqSuccess (reqList) {\n\treturn { type: ADD_LODGE_SUC, payload: reqList };\n}\n\nfunction deleteSuccess () {\n\treturn { type: DELETE_LODGE_SUC, msg: 'delete successfully' };\n}\n\nfunction getListSuc (list) {\n\treturn { type: LOAD_LODGE_ALL, msg: 'Get list success', payload: list };\n}\n\nfunction acceptSuc (msg, newList) {\n\treturn { type: ACCEPT_LODGE_REQ_SUC, msg: msg, payload: newList };\n}\n\nfunction loadAcceptReqSuc (msg, acceptedList) {\n\t// console.log(1);\n\treturn { type: LOAD_ACCEPTED_LODGE_SUC, msg, acceptedList };\n}\n\nconst parsePickreqInput = userInput => {\n\t// const timeStr = userInput.date + ' ' + userInput.time;\n\t// const nyTime = moment.tz(timeStr, 'America/New_York');\n\tconst request = {\n\t\tpublished: userInput.publish,\n\t\tpickupLocation: userInput.pickupLocation,\n\t\tstartDate: moment(userInput.startDate).tz('America/New_York'),\n\t\tleaveDate: moment(userInput.leaveDate).tz('America/New_York'),\n\t\tnotes: userInput.notes\n\t};\n\n\treturn request;\n};\n// action creator\nexport function loadLodgereq (username) {\n\t// load pickreq from db once and save it inside the redux store\n\t// console.log('loading existing lodge req in redux %s', username);\n\treturn dispatch => {\n\t\treturn axios\n\t\t\t.get(`/api/lodgeRequests/lodge/${username}`)\n\t\t\t.then(res => dispatch(loadReq(res.data.data)));\n\t};\n}\n\n// add a new lodgereq\nexport const addLodgereq = userInput => {\n\tconst username = userInput.username;\n\tconst request = parsePickreqInput(userInput);\n\t\n\treturn dispatch => {\n\t\treturn axios.post(`/api/lodgeRequests/lodge/${username}`, request)\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\tmessage.success(res.data.msg);\n\t\t\t\t\tdispatch(addReqSuccess(res.data.data));\n\t\t\t\t} else {\n\t\t\t\t\tmessage.error(res.data.msg);\n\t\t\t\t}\n\t\t\t});\n\t};\n};\n\n// update a published lodgereq\nexport function updateLodgereq (userInput, reqId) {\n\tif (\n\t\t!userInput.pickupLocation ||\n\t\t!userInput.startDate ||\n\t\t!userInput.leaveDate\n\t) {\n\t\t// console.log(userInput);\n\t\treturn errorMsg('Missing key fields!');\n\t}\n\tconst username = userInput.username;\n\tconst request = parsePickreqInput(userInput);\n\n\treturn dispatch => {\n\t\treturn axios\n\t\t\t.put(`/api/requests/lodge/${username}`, { request, reqId }) //promise   //RESTful api\n\t\t\t.then(\n\t\t\t\tres => {\n\t\t\t\t\tif (res.status === 200 && res.data.code === 0) {\n\t\t\t\t\t\tdispatch(updateSuccess(res.data.data));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdispatch(errorMsg('Error happened when update!'));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terr => {\n\t\t\t\t\t// console.log(err.stack);\n\t\t\t\t\tdispatch(errorMsg('Error happened when update!'));\n\t\t\t\t}\n\t\t\t);\n\t};\n}\n\n// delete an published pickreq\nexport function deleteLodgereq (id, username) {\n\treturn dispatch => {\n\t\t// // console.log('deleting request', id);\n\t\treturn axios.delete(`/api/lodgeRequests/request/lodge/${id}`).then(res => {\n\t\t\tif (res.status === 200 && res.data.code === 0) {\n\t\t\t\tdispatch(deleteSuccess());\n\t\t\t\tdispatch(loadLodgereq(username));\n\t\t\t} else {\n\t\t\t\tdispatch(errorMsg('Error happened when deleting this record!'));\n\t\t\t}\n\t\t});\n\t};\n}\n\n// for volunteer center page. List all the current available lodge requests\nexport function loadAllReq () {\n\treturn dispatch => {\n\t\t// console.log('loading all the request');\n\t\treturn axios.get('/api/lodgeRequests/lodge/list').then(res => {\n\t\t\tif (res.status === 200 && res.data.code === 0) {\n\t\t\t\tres.data.reqList.sort(\n\t\t\t\t\t(a, b) =>\n\t\t\t\t\t\tnew Date(a.request.createdAt).getTime() -\n\t\t\t\t\t\tnew Date(b.request.createdAt).getTime()\n\t\t\t\t);\n\t\t\t\tdispatch(getListSuc(res.data.reqList));\n\t\t\t} else {\n\t\t\t\tdispatch(errorMsg('Error happened when getting the request list'));\n\t\t\t}\n\t\t});\n\t};\n}\n\n// for volunteer to accept one request\nexport function acceptReq (reqId, username, reqList) {\n\tconst newList = reqList.filter(item => item.request._id !== reqId);\n\treturn dispatch => {\n\t\t// console.log(`${username} requesting the request ${reqId}`);\n\t\treturn axios\n\t\t\t.post(`/api/lodgeRequests/request/lodge/${reqId}`, { volunteer: username })\n\t\t\t.then(res => {\n\t\t\t\t// console.log('res data:',res.data);\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t// console.log(res.data);\n\t\t\t\t\tdispatch(acceptSuc(res.data.msg, newList));\n\t\t\t\t} else {\n\t\t\t\t\t// console.error(res.data.err);\n\t\t\t\t\tdispatch(errorMsg(res.data.msg));\n\t\t\t\t}\n\t\t\t});\n\t};\n}\n\n// load all accepted request as a volunteer\nexport const loadAcceptedLodge = volunteer => {\n\t// console.log('volunteer',volunteer);\n\treturn dispatch => {\n\t\treturn axios.get(`/api/lodgeRequests/volunteer2/${volunteer}`).then(res => {\n\t\t\tif (res.status === 200) {\n\t\t\t\t// console.log('load lodge accept',res.data.acceptedList);\n\t\t\t\tdispatch(loadAcceptReqSuc(res.data.msg, res.data.acceptedList));\n\t\t\t}\n\t\t});\n\t};\n};\n\n// volunteer cancel request\nexport const cancelLodgeRequest = (reqId, volunteerId) => {\n\treturn dispatch => {\n\t\treturn axios\n\t\t\t.put(`/api/lodgeRequests/cancel2/${reqId}`)\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.code === 1) {\n\t\t\t\t\tdispatch(errorMsg(res.data.msg));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// console.log(res.data.msg);\n\t\t\t\t// console.log(volunteerId);\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn dispatch(loadAcceptedLodge(volunteerId));\n\t\t\t});\n\t};\n};\n\n\n","//combine all the reducers here\n\nimport { combineReducers } from 'redux';\nimport { userRedux } from './redux/user.redux';\nimport { airpickRedux } from './redux/airpick.redux';\nimport { lodgeRedux } from './redux/lodge.redux';\n\nexport default combineReducers({\n\tuser: userRedux,\n\tairpick: airpickRedux,\n\tlodge: lodgeRedux\n});\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Menu, Modal, Avatar } from 'antd';\nimport browserCookie from 'browser-cookies';\nimport { logoutRedux } from '@/redux/user.redux';\n\nconst { Item, SubMenu } = Menu;\n\n// deep filter an item in a high dimensional array\nconst deepFilter = (arr, filterFunc) => {\n\tfor (let i = 0; i < arr.length; i++) {\n\t\tlet element = arr[i];\n\t\tif (element.subItem) {\n\t\t\tconst item = deepFilter(element.subItem, filterFunc);\n\t\t\tif (item) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\t}\n\treturn arr.filter(filterFunc)[0];\n};\n\n@withRouter\n@connect(state => state, { logoutRedux })\nclass NavBar extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmodalVisible: false,\n\t\t\tscreenWidth: window.innerWidth,\n\t\t\tlocation: this.props.location.pathname\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.setState({ location: this.props.location.pathname });\n\t\twindow.addEventListener('resize', this.updateWindowSize.bind(this));\n\t}\n\n\tcomponentWillUnmount () {\n\t\twindow.removeAllListener('resize');\n\t}\n\n\tupdateWindowSize = e => {\n\t\tthis.setState({ ...this.state, screenWidth: e.target.innerWidth });\n\t};\n\n\tlogout () {\n\t\t// console.log('logout');\n\t\tthis.setState({\n\t\t\tmodalVisible: true\n\t\t});\n\t}\n\n\thandleOk = () => {\n\t\tthis.setState({\n\t\t\tmodalVisible: false\n\t\t});\n\n\t\tbrowserCookie.erase('userid');\n\t\tthis.props.history.push('/login');\n\t\tthis.props.logoutRedux();\n\t};\n\n\thandleCancel = () => {\n\t\tthis.setState({\n\t\t\tmodalVisible: false\n\t\t});\n\t};\n\n\t// helper function to handle sign out in a submenu\n\thandleUserCenter = subItem => {\n\t\treturn subItem.map(item => {\n\t\t\tif (item.text !== 'Sign out') {\n\t\t\t\treturn (\n\t\t\t\t\t<Item\n\t\t\t\t\t\tkey={item.text}\n\t\t\t\t\t\tonClick={() => this.props.history.push(item.path)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{item.text}\n\t\t\t\t\t</Item>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<Item key='logout' onClick={() => this.logout()}>\n\t\t\t\t\t\tSign out\n\t\t\t\t\t</Item>\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t};\n\n\trender () {\n\t\tlet currItem = null;\n\t\tif (this.props.location) {\n\t\t\tcurrItem = deepFilter(\n\t\t\t\tthis.props.data,\n\t\t\t\tv => v.path === this.props.location.pathname\n\t\t\t);\n\t\t\t// // console.log(currItem);\n\t\t}\n\t\tconst list = this.props.data.filter(v => !v.hide);\n\t\tconst displayName = this.props.user.displayName;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{/* {currItem ? ( */}\n\t\t\t\t<div>\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tmode='horizontal'\n\t\t\t\t\t\tselectedKeys={(() => {\n\t\t\t\t\t\t\tif (currItem) return [currItem.text];\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{list.map(choice => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tchoice.text !== 'Sign out' &&\n\t\t\t\t\t\t\t\tchoice.text !== 'No match' &&\n\t\t\t\t\t\t\t\tchoice.text !== 'Volunteer' &&\n\t\t\t\t\t\t\t\tchoice.text !== 'usercenter'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\t\tkey={choice.text}\n\t\t\t\t\t\t\t\t\t\tclassName={choice.className}\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.history.push(choice.path)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{choice.text}\n\t\t\t\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else if (choice.text === 'Volunteer') {\n\t\t\t\t\t\t\t\tconst subList = choice.subItem;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<SubMenu key={choice.text} title={choice.text}>\n\t\t\t\t\t\t\t\t\t\t{subList.map(item => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.text}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.history.push(item.path)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.text}\n\t\t\t\t\t\t\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</SubMenu>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else if (choice.text === 'usercenter') {\n\t\t\t\t\t\t\t\tif (this.state.screenWidth >= 560) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<SubMenu\n\t\t\t\t\t\t\t\t\t\t\tkey={choice.text}\n\t\t\t\t\t\t\t\t\t\t\tclassName={choice.className}\n\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar style={{ verticalAlign: 'middle' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{displayName.charAt(0)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp; &nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayName}\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{/* {choice.subItem.map(item => {\n\t\t\t\t\t\t\t\t\t\t\treturn <Item key={item.text}>{item.text}</Item>;\n\t\t\t\t\t\t\t\t\t\t})} */}\n\t\t\t\t\t\t\t\t\t\t\t{this.handleUserCenter(choice.subItem)}\n\t\t\t\t\t\t\t\t\t\t</SubMenu>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else if (this.state.screenWidth >= 477) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<SubMenu\n\t\t\t\t\t\t\t\t\t\t\tkey={choice.text}\n\t\t\t\t\t\t\t\t\t\t\tclassName={choice.className}\n\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar style={{ verticalAlign: 'middle' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{displayName.charAt(0)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{choice.subItem.map(item => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Item key={item.text}>{item.text}</Item>;\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</SubMenu>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<SubMenu\n\t\t\t\t\t\t\t\t\t\t\tkey={choice.text}\n\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: 0, marginRight: 15 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar style={{ verticalAlign: 'middle' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{displayName.charAt(0)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp; {displayName}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{choice.subItem.map(item => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Item key={item.text}>{item.text}</Item>;\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</SubMenu>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Menu>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\ttitle='Log out?'\n\t\t\t\t\t\tvisible={this.state.modalVisible}\n\t\t\t\t\t\tonOk={this.handleOk}\n\t\t\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t\t>\n\t\t\t\t\t\tAre you sure you want to log out?\n\t\t\t\t\t</Modal>\n\t\t\t\t</div>\n\t\t\t\t{/* ) : null} */}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default NavBar;\n","import React from 'react';\nimport { LockOutlined, UserOutlined } from '@ant-design/icons';\nimport { Form, Input, Typography, Button } from 'antd';\nimport { connect } from 'react-redux';\nimport { loadPickreq } from '../../redux/airpick.redux';\nimport { login } from '../../redux/user.redux';\nimport { Redirect } from 'react-router-dom';\nconst { Paragraph } = Typography;\n\n@connect(state => state.user, { login, loadPickreq })\nclass LoginForm extends React.Component {\n\tformRef = React.createRef();\n\n\tonFinish = values => {\n\t\tthis.props\n\t\t\t.login(values)\n\t\t\t.then(() => {\n\t\t\t\tthis.props.loadPickreq(this.props.username);\n\t\t\t})\n\t\t\t.catch();\n\t};\n\n\tonFinishFailed = ({ errorFields }) => {\n\t\t// scroll to the error field\n\t\tthis.formRef.current.scrollToField(errorFields[0].name);\n\t};\n\n\trender () {\n\t\t// console.log(this.props);\n\t\tconst formItemLayout = {\n\t\t\tlabelCol: {\n\t\t\t\txs: { span: 24 },\n\t\t\t\tsm: { span: 8 }\n\t\t\t},\n\t\t\twrapperCol: {\n\t\t\t\txs: { span: 24 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.props.redirectTo ? (\n\t\t\t\t\t<Redirect to={this.props.redirectTo}></Redirect>\n\t\t\t\t) : null}\n\t\t\t\t<Paragraph className='title-middle'>\n\t\t\t\t\t<h3>Log in to AirPick</h3>\n\t\t\t\t</Paragraph>\n\t\t\t\t<Paragraph>\n\t\t\t\t\t<Form\n\t\t\t\t\t\t{...formItemLayout}\n\t\t\t\t\t\tref={this.formRef}\n\t\t\t\t\t\tonFinish={this.onFinish}\n\t\t\t\t\t\tonFinishFailed={this.onFinishFailed}\n\t\t\t\t\t\tname='login'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='input'\n\t\t\t\t\t\t\tlabel='Username or Email'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: 'Please input your username or e-mail!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tprefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\t\tplaceholder='Username or Email'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='pwd'\n\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: 'Please input your password!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tprefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\twrapperCol={{\n\t\t\t\t\t\t\t\txs: { span: 18, offset: 0 },\n\t\t\t\t\t\t\t\tsm: { span: 10, offset: 8 }\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button type='primary' htmlType='submit'>\n\t\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t&nbsp; Or <a href='/register'>register now!</a>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Form>\n\t\t\t\t</Paragraph>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LoginForm;\n","import React from 'react';\nimport { UserOutlined } from '@ant-design/icons';\nimport '@ant-design/compatible/assets/index.css';\nimport { Form, Input, Typography, Button, Radio, Row, Col, Tooltip, message } from 'antd';\nimport { connect } from 'react-redux';\nimport { register } from '../../redux/user.redux';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nconst { Paragraph } = Typography;\n\nconst EMAIL_COOL_DOWN = 30;\n\n@connect(state => state.user, { register })\nclass RegisterForm extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tconfirmDirty: false,\n\t\t\temailValid: false,\n\t\t\tcodeResendLoading: false,\n\t\t\tcodeResendCoolTime: EMAIL_COOL_DOWN\n\t\t};\n\t\tthis.formRef = React.createRef();\n\t}\n\n\thandleEmailChange = (e) => {\n\t\tconst email = e.target.value;\n\t\tif (/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.[a-zA-Z]{2,4}$/.test(email)) {\n\t\t\tthis.setState({ emailValid: true });\n\t\t} else {\n\t\t\tthis.setState({ emailValid: false });\n\t\t}\n\t}\n\n\thandleSendButton = async () => {\n\t\tconst email = this.formRef.current.getFieldValue('email');\n\t\taxios.get(`/api/user/emailVeriCode?email=${email}`)\n\t\t\t.then(res=>{\n\t\t\t\t// console.log(res.data);\n\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\tmessage.success(res.data.msg);\n\t\t\t\t\tthis.setState({ codeResendLoading: true });\n\t\t\t\t\tconst interval = setInterval(() => {\n\t\t\t\t\t\tthis.setState((state) => {\n\t\t\t\t\t\t\tif (state.codeResendCoolTime <= 1) {\n\t\t\t\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\t\t\t\treturn { codeResendLoading: false, codeResendCoolTime: EMAIL_COOL_DOWN };\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn { codeResendCoolTime: state.codeResendCoolTime - 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 1000);\n\t\t\t\t} else if (res.data.code === 2) {\n\t\t\t\t\tmessage.warning(res.data.msg);\n\t\t\t\t} else {\n\t\t\t\t\tmessage.error(res.data.msg);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\t// console.log(err.response);\n\t\t\t\tmessage.error(err.response);\n\t\t\t});\n\t}\n\n\tonFinish = values => {\n\t\tthis.props.register(values);\n\t};\n\n\tonFinishFailed = ({ errorFields }) => {\n\t\tthis.formRef.current.scrollToField(errorFields[0].name);\n\t};\n\n\temailValidator = (rule, value) => {\n\t\tif (!value || /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.[a-zA-Z]{2,4}$/.test(value)) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\treturn Promise.reject('Please enter a valid email address!');\n\t}\n\n\tphoneValidator = (rule, value) => {\n\t\tif (\n\t\t\t!value ||\n\t\t\t!value.length ||\n\t\t\t(/^\\d+$/.test(value) && value.length === 10)\n\t\t) {\n\t\t\treturn Promise.resolve();\n\t\t} else {\n\t\t\treturn Promise.reject('Invalid US Phone Number!');\n\t\t}\n\t};\n\n\tcompareToFirstPassword = (rule, value) => {\n\t\tif (value && value !== this.formRef.current.getFieldValue('pwd')) {\n\t\t\treturn Promise.reject('Two passwords that you enter is inconsistent!');\n\t\t} else {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t};\n\n\trender () {\n\t\tconst formItemLayout = {\n\t\t\tlabelCol: {\n\t\t\t\txs: { span: 18 },\n\t\t\t\tsm: { span: 8 }\n\t\t\t},\n\t\t\twrapperCol: {\n\t\t\t\txs: { span: 18 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.props.redirectTo ? (\n\t\t\t\t\t<Redirect to={this.props.redirectTo}></Redirect>\n\t\t\t\t) : null}\n\t\t\t\t<Paragraph className='title-middle'>\n\t\t\t\t\t<h3>Register</h3>\n\t\t\t\t</Paragraph>\n\t\t\t\t<Paragraph>\n\t\t\t\t\t<Form\n\t\t\t\t\t\t{...formItemLayout}\n\t\t\t\t\t\tref={this.formRef}\n\t\t\t\t\t\tonFinish={this.onFinish}\n\t\t\t\t\t\tonFinishFailed={this.onFinishFailed}\n\t\t\t\t\t\tname='register'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\tlabel='Username'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: 'Please input your username'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tprefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\t\tplaceholder='Username or Email'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='firstName'\n\t\t\t\t\t\t\tlabel='First Name'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: 'Please input your first name!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tprefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\t\tplaceholder='First Name'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='lastName'\n\t\t\t\t\t\t\tlabel='Last Name'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: 'Please input your last name!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tprefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\t\tplaceholder='Last Name'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\tlabel='E-mail'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: 'Please input your E-mail!'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalidator: this.emailValidator\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input onChange={this.handleEmailChange}/>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='pwd'\n\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: 'Please input your password!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input.Password />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='confirm'\n\t\t\t\t\t\t\tlabel='Confirm Password'\n\t\t\t\t\t\t\tdependencies={['pwd']}\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalidator: this.compareToFirstPassword\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input.Password />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='gender'\n\t\t\t\t\t\t\tlabel='Gender'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: 'Please choose your gender!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Radio.Group>\n\t\t\t\t\t\t\t\t<Radio value='male'>Male</Radio>\n\t\t\t\t\t\t\t\t<Radio value='female'>Female</Radio>\n\t\t\t\t\t\t\t</Radio.Group>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='wechatId'\n\t\t\t\t\t\t\tlabel='Wechat ID'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: 'Please input your wechat ID!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input placeholder='wechat' />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname='phone'\n\t\t\t\t\t\t\tlabel='US Phone Number'\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalidator: this.phoneValidator\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input type='String' placeholder='US Phone Number' />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"Verify Email\">\n\t\t\t\t\t\t\t<Row gutter={8}>\n\t\t\t\t\t\t\t\t<Col span={16}>\n\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\tname='code'\n\t\t\t\t\t\t\t\t\t\tnoStyle\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Please input the email verification code you got!'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Input />\n\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t\t\t\t{this.state.emailValid ? (\n\t\t\t\t\t\t\t\t\t\t<Tooltip title='Click to get the verification code in your email'>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.emailValid || this.state.codeResendLoading}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleSendButton}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.codeResendLoading\n\t\t\t\t\t\t\t\t\t\t\t\t\t? this.state.codeResendCoolTime + 's'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Get Code'}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Tooltip title='Enter a valid email address and get a verification code'>\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={!this.state.emailValid} onClick={this.handleSendButton}>\n\t\t\t\t\t\t\t\t\t\tGet Code\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\twrapperCol={{\n\t\t\t\t\t\t\t\txs: { span: 18, offset: 0 },\n\t\t\t\t\t\t\t\tsm: { span: 10, offset: 8 }\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button type='primary' htmlType='submit'>\n\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t&nbsp; Already have an account? <a href='/login'>Log in</a>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Form>\n\t\t\t\t</Paragraph>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RegisterForm;\n","/**\n * This model is a modal that used to add NEW Pick requests.\n */\n\nimport React from 'react';\nimport '@ant-design/compatible/assets/index.css';\nimport { Form, Modal, Input, DatePicker, TimePicker, InputNumber } from 'antd';\nimport moment from 'moment';\n\nconst { TextArea } = Input;\n\nclass PickreqForm extends React.Component {\n\tformRef = React.createRef();\n\trender () {\n\t\tconst { visible, onCancel, onCreate } = this.props; // values/functions passed from its parent component 'RequestCenter'\n\t\tconst formItemLayout = {\n\t\t\tlabelCol: {\n\t\t\t\txs: { span: 20 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t},\n\t\t\twrapperCol: {\n\t\t\t\txs: { span: 24 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t}\n\t\t};\n\t\tconst dateFormat = 'YYYY-MM-DD';\n\t\tconst timeFormat = 'HH:mm';\n\t\tconst disabledDate = current => {\n\t\t\treturn current && current < moment().endOf('day');\n\t\t};\n\n\t\tconst requirement = {\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: 'Please fill this field!'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Modal\n\t\t\t\t\twidth={700}\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\ttitle='Add New Pickup Request'\n\t\t\t\t\tonOk={() => {\n\t\t\t\t\t\t// console.log(this.formRef);\n\t\t\t\t\t\tconst { current } = this.formRef;\n\n\t\t\t\t\t\tcurrent\n\t\t\t\t\t\t\t.validateFields()\n\t\t\t\t\t\t\t.then(values => {\n\t\t\t\t\t\t\t\tcurrent.resetFields();\n\t\t\t\t\t\t\t\tonCreate(values);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(info => {\n\t\t\t\t\t\t\t\t// console.log('Update failed:', info);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\tonCancel={onCancel}\n\t\t\t\t>\n\t\t\t\t\t<Form {...formItemLayout} ref={this.formRef}>\n\t\t\t\t\t\t<Form.Item label='Date' name='date' rules={requirement.rules}>\n\t\t\t\t\t\t\t<DatePicker disabledDate={disabledDate} format={dateFormat} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label='Time' name='time' rules={requirement.rules}>\n\t\t\t\t\t\t\t<TimePicker autoFocus format={timeFormat} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tlabel='Airport/Location'\n\t\t\t\t\t\t\tname='airport'\n\t\t\t\t\t\t\trules={requirement.rules}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input placeholder='MCO' />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tlabel='Number of Carry-ons'\n\t\t\t\t\t\t\tname='carryon'\n\t\t\t\t\t\t\trules={requirement.rules}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InputNumber min={0} max={10} placeholder={2}></InputNumber>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tlabel='Number of large luggages'\n\t\t\t\t\t\t\tname='luggage'\n\t\t\t\t\t\t\trules={requirement.rules}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InputNumber min={0} max={10} placeholder={2}></InputNumber>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label='Notes' name='notes'>\n\t\t\t\t\t\t\t<TextArea placeholder='How many people coming with you?'></TextArea>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default PickreqForm;\n","/**\n * This model is a modal that used to add NEW LODGE requests.\n */\n\nimport React from 'react';\nimport '@ant-design/compatible/assets/index.css';\nimport { Form, Modal, Input, DatePicker } from 'antd';\nimport moment from 'moment';\n\nconst { TextArea } = Input;\n\nclass LodgereqForm extends React.Component {\n\tconstructor () {\n\t\tsuper();\n\t\tthis.lodgeFormRef = React.createRef();\n\t\tthis.state = {\n\t\t\tstartDate: null\n\t\t};\n\t}\n\n\trender () {\n\t\tconst { visible, onCancel, onCreate } = this.props; // values/functions passed from its parent component 'RequestCenter'\n\t\tconst formItemLayout = {\n\t\t\tlabelCol: {\n\t\t\t\txs: { span: 20 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t},\n\t\t\twrapperCol: {\n\t\t\t\txs: { span: 24 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t}\n\t\t};\n\t\tconst dateFormat = 'YYYY-MM-DD';\n\t\tconst disabledStartDate = current => {\n\t\t\treturn current && current < moment().endOf('day');\n\t\t};\n\t\tconst disabledEndDate = current => {\n\t\t\treturn current && current < this.state.startDate.endOf('day');\n\t\t};\n\n\t\tconst requirement = {\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: 'Please fill this field!'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Modal\n\t\t\t\t\twidth={700}\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\ttitle='Add New Lodge Request'\n\t\t\t\t\tonOk={() => {\n\t\t\t\t\t\t// console.log(this.lodgeFormRef);\n\t\t\t\t\t\tconst { current } = this.lodgeFormRef;\n\n\t\t\t\t\t\tcurrent\n\t\t\t\t\t\t\t.validateFields()\n\t\t\t\t\t\t\t.then(values => {\n\t\t\t\t\t\t\t\tcurrent.resetFields();\n\t\t\t\t\t\t\t\tonCreate(values);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(info => {\n\t\t\t\t\t\t\t\t// console.log('Update failed:', info);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\tonCancel={onCancel}\n\t\t\t\t>\n\t\t\t\t\t<Form {...formItemLayout} ref={this.lodgeFormRef}>\n\t\t\t\t\t\t<Form.Item label='Start Date' name='startDate' rules={requirement.rules}>\n\t\t\t\t\t\t\t<DatePicker disabledDate={disabledStartDate} format={dateFormat} onChange={(date) => this.setState({ startDate: date })} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label='Leave Date' name='leaveDate' rules={requirement.rules}>\n\t\t\t\t\t\t\t<DatePicker disabledDate={disabledEndDate} format={dateFormat} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tlabel='Pick-up location'\n\t\t\t\t\t\t\tname='pickupLocation'\n\t\t\t\t\t\t\trules={requirement.rules}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input placeholder='GNV' />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label='Notes' name='notes'>\n\t\t\t\t\t\t\t<TextArea placeholder='How many people coming with you?'></TextArea>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LodgereqForm;\n","/**\n * This model is a modal that used to MODIFY selected PICK request.\n */\n\nimport React from 'react';\n// import { Form } from '@ant-design/compatible';\n// import '@ant-design/compatible/assets/index.css';\nimport { Form, Modal, Input, DatePicker, TimePicker, InputNumber } from 'antd';\nimport moment from 'moment-timezone';\n\nconst { TextArea } = Input;\n\nclass EditForm extends React.Component {\n\tformRef = React.createRef();\n\trender () {\n\t\tconst { visible, onCancel, onCreate, data } = this.props; // all these values are passed from its parent component 'MyReqList'\n\t\t// const { getFieldDecorator } = this.props.form;\n\t\tconst formItemLayout = {\n\t\t\tlabelCol: {\n\t\t\t\txs: { span: 20 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t},\n\t\t\twrapperCol: {\n\t\t\t\txs: { span: 24 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t}\n\t\t};\n\t\tconst dateFormat = 'YYYY-MM-DD';\n\t\tconst timeFormat = 'HH:mm';\n\t\tconst disabledDate = current => {\n\t\t\treturn current && current < moment().endOf('day');\n\t\t};\n\t\tconst requirement = {\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: 'Please fill this field!'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{data ? (\n\t\t\t\t\t<Modal\n\t\t\t\t\t\twidth={700}\n\t\t\t\t\t\tvisible={visible}\n\t\t\t\t\t\ttitle='Update Pickup Request'\n\t\t\t\t\t\tonOk={() => {\n\t\t\t\t\t\t\tconst { current } = this.formRef;\n\t\t\t\t\t\t\tcurrent\n\t\t\t\t\t\t\t\t.validateFields()\n\t\t\t\t\t\t\t\t.then(values => {\n\t\t\t\t\t\t\t\t\tcurrent.resetFields();\n\t\t\t\t\t\t\t\t\tonCreate(values, data.key);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(info => {\n\t\t\t\t\t\t\t\t\t// console.log('Update failed:', info);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonCancel={onCancel}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t{...formItemLayout}\n\t\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\t\tdate: moment(data.arrivalTime).tz('America/New_York'),\n\t\t\t\t\t\t\t\ttime: moment(data.arrivalTime).tz('America/New_York'),\n\t\t\t\t\t\t\t\tairport: data.airport,\n\t\t\t\t\t\t\t\tcarryon: data.carryon,\n\t\t\t\t\t\t\t\tluggage: data.luggage,\n\t\t\t\t\t\t\t\tnotes: data.notes\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tref={this.formRef}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/* <Form.Item label='Publish'>\n                {getFieldDecorator('publish')(<Switch autoFocus defaultChecked={data.published}></Switch>)}\n              </Form.Item> */}\n\n\t\t\t\t\t\t\t{/* <Form.Item label='Date'>\n                {getFieldDecorator('date',\n                  { ...requirement, initialValue: moment(data.arrivalTime).tz('America/New_York') }\n                )(<DatePicker format={dateFormat} />)}\n              </Form.Item> */}\n\t\t\t\t\t\t\t<Form.Item label='Date' name='date' rules={requirement.rules}>\n\t\t\t\t\t\t\t\t<DatePicker disabledDate={disabledDate} format={dateFormat} />\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t{/* <Form.Item label='Time'>\n                {getFieldDecorator('time',\n                  { ...requirement, initialValue: moment(data.arrivalTime).tz('America/New_York') }\n                )(<TimePicker format={timeFormat} />)}\n              </Form.Item> */}\n\t\t\t\t\t\t\t<Form.Item label='Time' name='time' rules={requirement.rules}>\n\t\t\t\t\t\t\t\t<TimePicker format={timeFormat} />\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t{/* <Form.Item label='Airport/Location'>\n                {getFieldDecorator('airport',\n                  { ...requirement, initialValue: data.airport }\n                )(<Input placeholder='MCO' />)}\n              </Form.Item> */}\n\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\tlabel='Airport/Location'\n\t\t\t\t\t\t\t\tname='airport'\n\t\t\t\t\t\t\t\trules={requirement.rules}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Input placeholder='MCO' />\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t{/* <Form.Item label='Number of Carry-ons'>\n                {getFieldDecorator('carryon',\n                  { ...requirement, initialValue: data.carryon }\n                )(<InputNumber min={0} max={10} placeholder={2}></InputNumber>)}\n              </Form.Item> */}\n\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\tlabel='Number of Carry-ons'\n\t\t\t\t\t\t\t\tname='carryon'\n\t\t\t\t\t\t\t\trules={requirement.rules}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputNumber min={0} max={10} placeholder={2}></InputNumber>\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t{/* <Form.Item label='Number of large luggages'>\n                {getFieldDecorator('luggage',\n                  { ...requirement, initialValue: data.luggage }\n                )(<InputNumber min={0} max={10} placeholder={2}></InputNumber>)}\n              </Form.Item> */}\n\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\tlabel='Number of large luggages'\n\t\t\t\t\t\t\t\tname='luggage'\n\t\t\t\t\t\t\t\trules={requirement.rules}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputNumber min={0} max={10} placeholder={2}></InputNumber>\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t{/* <Form.Item label='Notes'>\n                {getFieldDecorator('notes',\n                  { initialValue: data.notes }\n                )(<TextArea placeholder='How many people coming with you?'></TextArea>)}\n              </Form.Item> */}\n\t\t\t\t\t\t\t<Form.Item label='Notes' name='notes'>\n\t\t\t\t\t\t\t\t<TextArea placeholder='How many people coming with you?'></TextArea>\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Modal>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// const WrappedEditForm = Form.create({ name: 'edit_form ' })(EditForm);\n// export default WrappedEditForm;\nexport default EditForm;\n","/**\n * Showing volunteer info for my request, using react functional component\n */\nimport React from 'react';\nimport { Modal, Row, Col } from 'antd';\n\nconst VolunteerInfoModal = ({ visible, volunteerInfo, onCancel, onOk }) => {\n\tconst fontStyle = { fontSize: 16 };\n\tconst gutter = [0, 5];\n\n\treturn (\n\t\t<div>\n\t\t\t{volunteerInfo ? (\n\t\t\t\t<Modal\n\t\t\t\t\twidth={550}\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\ttitle='Your Volunteer Information'\n\t\t\t\t\tonCancel={onCancel}\n\t\t\t\t\tonOk={onOk}\n\t\t\t\t>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tName\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{volunteerInfo.displayName}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tE-mail\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{volunteerInfo.email}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tWechat\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{volunteerInfo.wechatId}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tUS Phone\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{volunteerInfo.phone}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Modal>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nexport default VolunteerInfoModal;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Modal } from 'antd';\nimport { WarningTwoTone } from '@ant-design/icons';\nimport { deletePickreq } from '@/redux/airpick.redux';\nimport { deleteLodgereq } from '@/redux/lodge.redux';\n\n/**\n * Control the delete modal which let user to confirm deleting\n * the selected requests. \n * Work for both airpick request or lodging request\n *\n * @export\n * @param {{isAirpick:boolean, reqID:string, username:string, visible:string, closeModal:(() => void)}} { isAirpick, reqID, username, visible, closeModal }\n * @returns\n */\nexport default function DeleteModal ({ isAirpick, reqID, username, visible, closeModal }) {\n\tconst dispatch = useDispatch();\n\tconst onOk = function hanldeModalOk () {\n\t\tif (isAirpick) {\n\t\t\tdispatch(deletePickreq(reqID, username)).then(() => {\n\t\t\t\t// console.log(reqID, ' deleted');\n\t\t\t});\n\t\t} else {\n\t\t\tdispatch(deleteLodgereq(reqID, username)).then(() => {\n\t\t\t\t// console.log(reqID, ' deleted');\n\t\t\t});\n\t\t}\n\t\tcloseModal();\n\t};\n  \n\tconst onCancel = function handleModalCancel () {\n\t\tcloseModal();\n\t};\n  \n\treturn (\n\t\t<div>\n\t\t\t{reqID ? (\n\t\t\t\t<Modal\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\ttitle='Deleting request'\n\t\t\t\t\tonOk={onOk}\n\t\t\t\t\tonCancel={onCancel}\n\t\t\t\t>\n\t\t\t\t\t<p><WarningTwoTone /> Are you sure you want to delete this request? \n          This operation cannot be undo. Your request will be permanently deleted.</p>\n\t\t\t\t</Modal>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tDeleteOutlined,\n\tEditOutlined,\n\tCheckCircleTwoTone,\n\tLoadingOutlined\n} from '@ant-design/icons';\nimport { Table, Button, Tooltip, Steps } from 'antd';\nimport moment from 'moment-timezone';\nimport EditModal from './EditModal';\nimport VolunteerModel from './VolunteerInfoModal';\nimport DeleteModal from './DeleteModal';\nimport { updatePickreq, deletePickreq, loadPickreq } from '../../redux/airpick.redux';\n\nconst { Column } = Table;\nconst { Step } = Steps;\n\n@connect(state => state, { updatePickreq, deletePickreq, loadPickreq })\nclass MyReqList extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\tvisible: false,\n\t\t\tvolunteerInfoVisible: false,\n\t\t\tdeleteModalVisible: false,\n\t\t};\n\t}\n\n\t// open the modal\n\thandleEdit = request => {\n\t\tthis.setState({ ...this.state, visible: true, data: request });\n\t};\n\n\t// delete the record\n\thandleDelete = request => {\n\t\tthis.setState({ ...this.state, deleteModalVisible: true, deleteReqID: request.key });\n\t};\n\n\t// handle update the current reqeust\n\thandleSubmit = (values, reqId) => {\n\t\t// console.log('submitting update');\n\t\tthis.setState({ visible: false, data: null, loading: true });\n\t\t// Should format date value before submit.\n\t\tconst updatePickReqVal = {\n\t\t\t...values,\n\t\t\tpublish: true,\n\t\t\tnotes: values.notes ? values.notes : '',\n\t\t\tdate: values.date.format('YYYY-MM-DD'),\n\t\t\ttime: values.time.format('HH:mm'),\n\t\t\tusername: this.props.user.username,\n\t\t};\n\t\tthis.props.updatePickreq(updatePickReqVal, reqId)\n\t\t\t.then(() => this.setState({ ...this.state, loading: false }));\n\t};\n\n\thandleCancel = () => {\n\t\tthis.setState({ visible: false, data: null });\n\t};\n\n\tupdateForm = formRef => {\n\t\tthis.formRef = formRef;\n\t};\n\n\tshowVolunteerInfo = data => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tvolunteerInfoVisible: true,\n\t\t\tvolunteerInfo: data\n\t\t});\n\t};\n\n\tcloseVolunteerModal = () => {\n\t\tthis.setState({ ...this.state, volunteerInfoVisible: false });\n\t};\n\n\tcloseDeleteModal = () => {\n\t\tthis.setState({ ...this.state, deleteModalVisible: false, deleteReqID: null });\n\t}\n\n\trender () {\n\t\tconst tmp = this.props.data;  // parsed in from MyRequestCenter.js\n\t\tconst list = tmp.map(item => {\n\t\t\treturn {\n\t\t\t\tkey: item._id,\n\t\t\t\tdate: moment(item.arrivalTime)\n\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t.format('YYYY-MM-DD'),\n\t\t\t\ttime: moment(item.arrivalTime)\n\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t.format('HH:mm'),\n\t\t\t\tarrivalTime: item.arrivalTime,\n\t\t\t\tairport: item.airport,\n\t\t\t\tvolunteer: item.volunteer,\n\t\t\t\tpublished: item.published,\n\t\t\t\tcarryon: item.carryon,\n\t\t\t\tluggage: item.luggage,\n\t\t\t\tnotes: item.notes\n\t\t\t};\n\t\t});\n\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tdataSource={list}\n\t\t\t\t\t\tloading={this.state.loading}\n\t\t\t\t\t\tpagination={false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Column title='Date' dataIndex='date' key='date' />\n\t\t\t\t\t\t<Column title='Time' dataIndex='time' key='time' />\n\t\t\t\t\t\t<Column title='Airport' dataIndex='airport' key='airport' />\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Action'\n\t\t\t\t\t\t\tkey='action'\n\t\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Tooltip title='Edit'>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<EditOutlined />}\n\t\t\t\t\t\t\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginRight: 10 }}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleEdit(record)}\n\t\t\t\t\t\t\t\t\t\t\t></Button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t\t<Tooltip title='Delete'>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<DeleteOutlined />}\n\t\t\t\t\t\t\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleDelete(record)}\n\t\t\t\t\t\t\t\t\t\t\t></Button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Status'\n\t\t\t\t\t\t\tkey='status'\n\t\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\t\tconst status = record.volunteer\n\t\t\t\t\t\t\t\t\t? 2\n\t\t\t\t\t\t\t\t\t: record.published\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: 0;\n\t\t\t\t\t\t\t\tif (status === 0) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Step\n\t\t\t\t\t\t\t\t\t\t\tstatus='finish'\n\t\t\t\t\t\t\t\t\t\t\ttitle='trip finished!'\n\t\t\t\t\t\t\t\t\t\t\ticon={<CheckCircleTwoTone twoToneColor=\"#52c41a\" />}\n\t\t\t\t\t\t\t\t\t\t></Step>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else if (status === 1) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Step\n\t\t\t\t\t\t\t\t\t\t\tstatus='process'\n\t\t\t\t\t\t\t\t\t\t\ttitle='Looking for volunteers..'\n\t\t\t\t\t\t\t\t\t\t\ticon={<LoadingOutlined />}\n\t\t\t\t\t\t\t\t\t\t></Step>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype='primary'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.showVolunteerInfo(\n\t\t\t\t\t\t\t\t\t\t\t\t\trecord.volunteer\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tShow Volunteer Info\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t</Table>\n\t\t\t\t\t<EditModal\n\t\t\t\t\t\twrappedComponentRef={this.updateForm}\n\t\t\t\t\t\tvisible={this.state.visible}\n\t\t\t\t\t\tonCreate={this.handleSubmit}\n\t\t\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\t></EditModal>\n\t\t\t\t\t<VolunteerModel\n\t\t\t\t\t\tvisible={this.state.volunteerInfoVisible}\n\t\t\t\t\t\tvolunteerInfo={this.state.volunteerInfo}\n\t\t\t\t\t\tonCancel={this.closeVolunteerModal}\n\t\t\t\t\t\tonOk={this.closeVolunteerModal}\n\t\t\t\t\t></VolunteerModel>\n\t\t\t\t\t<DeleteModal\n\t\t\t\t\t\tvisible={this.state.deleteModalVisible}\n\t\t\t\t\t\treqID={this.state.deleteReqID}\n\t\t\t\t\t\tusername={this.props.user.username}\n\t\t\t\t\t\tisAirpick={true}\n\t\t\t\t\t\tcloseModal={this.closeDeleteModal}\n\t\t\t\t\t></DeleteModal>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MyReqList;\n","/**\n * This model is a modal that used to MODIFY selected LODGE request.\n */\n\nimport React from 'react';\nimport '@ant-design/compatible/assets/index.css';\nimport { Form, Modal, Input, DatePicker } from 'antd';\nimport moment from 'moment';\n\nconst { TextArea } = Input;\n\nclass LodgeEditForm extends React.Component {\n\tconstructor () {\n\t\tsuper();\n\t\tthis.lodgeFormRef = React.createRef();\n\t\tthis.state = {\n\t\t\tstartDate: null\n\t\t};\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\t// console.log(this.props);\n\t\tif (this.props.lodgeData && !prevProps.lodgeData) {\n\t\t\tthis.setState({ startDate: moment(this.props.lodgeData.startDate).tz('America/New_York') } );\n\t\t}\n\t}\n\n\trender () {\n\t\tconst { lodgeVisible, onCancel, onCreate, lodgeData } = this.props; // all these values are passed from its parent component 'MyLodgeList\n\n\t\tconst formItemLayout = {\n\t\t\tlabelCol: {\n\t\t\t\txs: { span: 20 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t},\n\t\t\twrapperCol: {\n\t\t\t\txs: { span: 24 },\n\t\t\t\tsm: { span: 10 }\n\t\t\t}\n\t\t};\n\t\tconst dateFormat = 'YYYY-MM-DD';\n\t\tconst disabledStartDate = current => {\n\t\t\treturn current && current < moment().endOf('day');\n\t\t};\n\t\tconst disabledEndDate = current => {\n\t\t\treturn current && current < this.state.startDate.endOf('day');\n\t\t};\n\n\t\tconst requirement = {\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: 'Please fill this field!'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{lodgeData ? (\n\t\t\t\t\t<Modal\n\t\t\t\t\t\twidth={700}\n\t\t\t\t\t\tvisible={lodgeVisible}\n\t\t\t\t\t\ttitle='Update New Lodge Request'\n\t\t\t\t\t\tonOk={() => {\n\t\t\t\t\t\t\tconst { current } = this.lodgeFormRef;\n\t\t\t\t\t\t\tcurrent\n\t\t\t\t\t\t\t\t.validateFields()\n\t\t\t\t\t\t\t\t.then(values => {\n\t\t\t\t\t\t\t\t\tcurrent.resetFields();\n\t\t\t\t\t\t\t\t\tonCreate(values, lodgeData.key);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(info => {\n\t\t\t\t\t\t\t\t\t// console.log('Update lodge failed:', info);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonCancel={onCancel}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t{...formItemLayout}\n\t\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\t\tstartDate: moment(lodgeData.startDate).tz('America/New_York'),\n\t\t\t\t\t\t\t\tleaveDate: moment(lodgeData.leaveDate).tz('America/New_York'),\n\t\t\t\t\t\t\t\tpickupLocation: lodgeData.pickupLocation,\n\t\t\t\t\t\t\t\tnotes: lodgeData.notes\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tref={this.lodgeFormRef}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Form.Item label='Start Date' name='startDate' rules={requirement.rules}>\n\t\t\t\t\t\t\t\t<DatePicker disabledDate={disabledStartDate} format={dateFormat} onChange={(date) => this.setState({ startDate: date })} />\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t<Form.Item label='Leave Date' name='leaveDate' rules={requirement.rules}>\n\t\t\t\t\t\t\t\t<DatePicker disabledDate={disabledEndDate} format={dateFormat} />\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\tlabel='Pick-up location'\n\t\t\t\t\t\t\t\tname='pickupLocation'\n\t\t\t\t\t\t\t\trules={requirement.rules}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Input placeholder='GNV' />\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t<Form.Item label='Notes' name='notes'>\n\t\t\t\t\t\t\t\t<TextArea placeholder='How many people coming with you?'></TextArea>\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Modal>\n\t\t\t\t) : null}\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LodgeEditForm;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tDeleteOutlined,\n\tEditOutlined,\n\tCheckCircleTwoTone,\n\tLoadingOutlined\n} from '@ant-design/icons';\nimport { Table, Button, Tooltip, Steps } from 'antd';\nimport moment from 'moment-timezone';\nimport LodgeEditModal from './LodgeEditModal';\nimport VolunteerModel from './VolunteerInfoModal';\nimport DeleteModal from './DeleteModal';\nimport { updateLodgereq, deleteLodgereq, loadLodgereq } from '../../redux/lodge.redux';\n\nconst { Column } = Table;\nconst { Step } = Steps;\n\n@connect(state => state, { updateLodgereq, deleteLodgereq, loadLodgereq })\nclass MyLodgeList extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\tlodgeVisible: false,\n\t\t\tvolunteerInfoVisible: false,\n\t\t\tdeleteModalVisible: false\n\t\t};\n\t}\n\n\t// open the modal\n\thandleEdit = request => {\n\t\tthis.setState({ ...this.state, lodgeVisible: true, lodgeData: request });\n\t};\n\n\t// delete the record\n\thandleDelete = request => {\n\t\tthis.setState({ ...this.state, deleteModalVisible: true, deleteReqID: request.key });\n\t};\n\n\t// handle update the current lodge request\n\thandleSubmit = (values, reqId) => {\n\t\t// console.log('submitting update');\n\t\tthis.setState({ lodgeVisible: false, lodgeData: null, loading: true });\n\t\t// Should format date value before submit.\n\t\tconst updateLodgeReqVal = {\n\t\t\t...values,\n\t\t\tpublish: true,\n\t\t\tnotes: values.notes ? values.notes : '',\n\t\t\tstartDate: values.startDate.format('YYYY-MM-DD'),\n\t\t\tleaveDate: values.leaveDate.format('YYYY-MM-DD'),\n\t\t\tusername: this.props.user.username,\n\t\t};\n\t\tthis.props.updateLodgereq(updateLodgeReqVal, reqId)\n\t\t\t.then(() => this.setState({ ...this.state, loading: false }));\n\t};\n\n\thandleCancel = () => {\n\t\tthis.setState({ ...this.state, lodgeVisible: false, lodgeData: null });\n\t};\n\n\tupdateForm = formRef => {\n\t\tthis.formRef = formRef;\n\t};\n\n\tshowVolunteerInfo = volunteerInfo => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tvolunteerInfoVisible: true,\n\t\t\tvolunteerInfo: volunteerInfo\n\t\t});\n\t};\n\n\tcloseVolunteerModal = () => {\n\t\tthis.setState({ volunteerInfoVisible: false });\n\t};\n\n\tcloseDeleteModal = () => {\n\t\tthis.setState({ ...this.state, deleteModalVisible: false, deleteReqID: null });\n\t}\n\n\trender () {\n\t\tconst tmp = this.props.lodgeData;  // parsed in from MyRequestCenter.js\n\t\tconst list = tmp.map(item => {\n\t\t\treturn {\n\t\t\t\tkey: item._id,\n\t\t\t\tstartDate: moment(item.startDate)\n\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t.format('YYYY-MM-DD'),\n\t\t\t\tleaveDate: moment(item.leaveDate)\n\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t.format('YYYY-MM-DD'),\n\t\t\t\tpickupLocation: item.pickupLocation,\n\t\t\t\tvolunteer: item.volunteer,\n\t\t\t\tpublished: item.published,\n\t\t\t\tnotes: item.notes\n\t\t\t};\n\t\t});\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tdataSource={list}\n\t\t\t\t\t\tloading={this.state.loading}\n\t\t\t\t\t\tpagination={false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Column title='Start Date' dataIndex='startDate' key='startDate' />\n\t\t\t\t\t\t<Column title='Leave Date' dataIndex='leaveDate' key='leaveDate' />\n\t\t\t\t\t\t<Column title='Pickup Location' dataIndex='pickupLocation' key='pickupLocation' />\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Action'\n\t\t\t\t\t\t\tkey='action'\n\t\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Tooltip title='Edit'>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<EditOutlined />}\n\t\t\t\t\t\t\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginRight: 10 }}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleEdit(record)}\n\t\t\t\t\t\t\t\t\t\t\t></Button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t\t<Tooltip title='Delete'>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<DeleteOutlined />}\n\t\t\t\t\t\t\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleDelete(record)}\n\t\t\t\t\t\t\t\t\t\t\t></Button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Status'\n\t\t\t\t\t\t\tkey='status'\n\t\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\t\tconst status = record.volunteer\n\t\t\t\t\t\t\t\t\t? 2\n\t\t\t\t\t\t\t\t\t: record.published\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: 0;\n\t\t\t\t\t\t\t\tif (status === 0) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Step\n\t\t\t\t\t\t\t\t\t\t\tstatus='finish'\n\t\t\t\t\t\t\t\t\t\t\ttitle='trip finished!'\n\t\t\t\t\t\t\t\t\t\t\ticon={<CheckCircleTwoTone twoToneColor=\"#52c41a\" />}\n\t\t\t\t\t\t\t\t\t\t></Step>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else if (status === 1) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Step\n\t\t\t\t\t\t\t\t\t\t\tstatus='process'\n\t\t\t\t\t\t\t\t\t\t\ttitle='Looking for volunteers..'\n\t\t\t\t\t\t\t\t\t\t\ticon={<LoadingOutlined />}\n\t\t\t\t\t\t\t\t\t\t></Step>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype='primary'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.showVolunteerInfo(\n\t\t\t\t\t\t\t\t\t\t\t\t\trecord.volunteer\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tShow Volunteer Info\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t</Table>\n\t\t\t\t\t<LodgeEditModal\n\t\t\t\t\t\twrappedComponentRef={this.updateForm}\n\t\t\t\t\t\tlodgeVisible={this.state.lodgeVisible}\n\t\t\t\t\t\tonCreate={this.handleSubmit}\n\t\t\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t\t\tlodgeData={this.state.lodgeData}\n\t\t\t\t\t></LodgeEditModal>\n\t\t\t\t\t<VolunteerModel\n\t\t\t\t\t\tvisible={this.state.volunteerInfoVisible}\n\t\t\t\t\t\tvolunteerInfo={this.state.volunteerInfo}\n\t\t\t\t\t\tonCancel={this.closeVolunteerModal}\n\t\t\t\t\t\tonOk={this.closeVolunteerModal}\n\t\t\t\t\t></VolunteerModel>\n\t\t\t\t\t<DeleteModal\n\t\t\t\t\t\tvisible={this.state.deleteModalVisible}\n\t\t\t\t\t\treqID={this.state.deleteReqID}\n\t\t\t\t\t\tusername={this.props.user.username}\n\t\t\t\t\t\tisAirpick={false}\n\t\t\t\t\t\tcloseModal={this.closeDeleteModal}\n\t\t\t\t\t></DeleteModal>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MyLodgeList;\n","/**\n *  List my request's status including volunteer info\n */\n\nimport React from 'react';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { addPickreq, loadPickreq } from '../../redux/airpick.redux';\nimport { addLodgereq, loadLodgereq } from '../../redux/lodge.redux';\nimport { connect } from 'react-redux';\nimport PickreqForm from './PickModal';\nimport LodgereqForm from './LodgeModal';\nimport MyReqList from './MyReqList';\nimport MyLodgeList from './MyLodgeList';\n\n@connect(state => state, { addPickreq ,loadPickreq, addLodgereq, loadLodgereq })\nclass RequestCenter extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvisible: false,\n\t\t\tconfirmLoading: false,\n\t\t\tmyReq: undefined,\n\t\t\tlodgeVisible: false\n\t\t};\n\t}\n\n\tshowModal = () => {\n\t\tthis.setState({\n\t\t\tvisible: true\n\t\t});\n\t};\n\n\tshowLodgeModal = () => {\n\t\tthis.setState({\n\t\t\tlodgeVisible: true\n\t\t});\n\t};\n\n\thandleCancel = () => {\n\t\tthis.setState({ visible: false });\n\t};\n\n\tlodgeHandleCancel = () => {\n\t\tthis.setState({ lodgeVisible: false });\n\t};\n\n\t// handle adding a new request\n\thandleSubmit = values => {\n\t\t// console.log('ok airpick clicked');\n\t\tthis.setState({ visible: false });\n\t\t// Should format date value before submit.\n\t\tconst newPickreqValues = {\n\t\t\t...values,\n\t\t\tpublish: true,\n\t\t\tnotes: values.notes ? values.notes : '',\n\t\t\tdate: values.date.format('YYYY-MM-DD'),\n\t\t\ttime: values.time.format('HH:mm'),\n\t\t\tusername: this.props.user.username,\n\t\t};\n\t\t// call API\n\t\tthis.props.addPickreq(newPickreqValues);\n\t};\n\n\tlodgeHandleSubmit = values => {\n\t\t// console.log('ok lodge clicked');\n\t\tthis.setState({ lodgeVisible: false });\n\t\t// Should format date value before submit.\n\t\tconst newLodgereqValues = {\n\t\t\t...values,\n\t\t\tpublish: true,\n\t\t\tnotes: values.notes ? values.notes : '',\n\t\t\tstartDate: values.startDate.format('YYYY-MM-DD'),\n\t\t\tleaveDate: values.leaveDate.format('YYYY-MM-DD'),\n\t\t\tusername: this.props.user.username,\n\t\t};\n\t\t// call API\n\t\tthis.props.addLodgereq(newLodgereqValues);\n\t};\n\n\tsaveForm = formRef => {\n\t\tthis.formRef = formRef;\n\t};\n\n\tcomponentDidMount () {\n\t\tthis.props.loadPickreq(this.props.user.username);\n\t\tthis.props.loadLodgereq(this.props.user.username);\n\t}\n\n\trender () {\n\t\tlet previousReq = this.props.airpick.myRequests;\n\t\tlet previousLodgeReq = this.props.lodge.lodgeRequests;\n\n\t\treturn (\n\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t{previousReq ? (\n\t\t\t\t\t<MyReqList data={previousReq}></MyReqList>\n\t\t\t\t) : (null)}\n\n\t\t\t\t<div>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<Button type='primary' onClick={this.showModal}>\n\t\t\t\t\t\t<PlusOutlined />\n\t\t\t\t\t\t\tAdd Airpick Request\n\t\t\t\t\t</Button>\n\t\t\t\t\t<PickreqForm\n\t\t\t\t\t\twrappedComponentRef={this.saveForm}\n\t\t\t\t\t\tvisible={this.state.visible}\n\t\t\t\t\t\tonCreate={this.handleSubmit}\n\t\t\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t\t></PickreqForm>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<br></br>\n\t\t\t\t</div>\n\n\n\t\t\t\t{previousLodgeReq ? (\n\t\t\t\t\t<MyLodgeList lodgeData={previousLodgeReq}></MyLodgeList>\n\t\t\t\t) : (null)}\n\n\t\t\t\t<div>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<Button type='primary' onClick={this.showLodgeModal}>\n\t\t\t\t\t\t<PlusOutlined />\n\t\t\t\t\t\t\tAdd Lodging Request\n\t\t\t\t\t</Button>\n\t\t\t\t\t<LodgereqForm\n\t\t\t\t\t\twrappedComponentRef={this.saveForm}\n\t\t\t\t\t\tvisible={this.state.lodgeVisible}\n\t\t\t\t\t\tonCreate={this.lodgeHandleSubmit}\n\t\t\t\t\t\tonCancel={this.lodgeHandleCancel}\n\t\t\t\t\t></LodgereqForm>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<br></br>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RequestCenter;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Typography, Divider } from 'antd';\nimport RequestCenter from '../../component/Forms/MyRequestCenter';\nconst { Title } = Typography;\n\n@connect(state => state)\nclass MyRequest extends React.Component {\n\tonCollapse = collapsed => {\n\t\tthis.setState({ collapsed });\n\t};\n\n\trender () {\n\t\treturn (\n\t\t\t<Typography style={{ padding: '15px' }}>\n\t\t\t\t<Title level={3} style={{ textAlign: 'center' }}>\n\t\t\t\t\tMy Request Center\n\t\t\t\t</Title>\n\t\t\t\t<Divider />\n\t\t\t\t<RequestCenter></RequestCenter>\n\t\t\t</Typography>\n\t\t);\n\t}\n}\n\nexport default MyRequest;\n","import React from 'react';\nimport { InboxOutlined } from '@ant-design/icons';\nconst RenderEmpty = () => (\n\t<div style={{ textAlign: 'center' }}>\n\t\t<InboxOutlined style={{ fontSize: 35 }} />\n\t\t<p>No Request yet</p>\n\t</div>\n);\nexport default RenderEmpty;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Table, Button, message, ConfigProvider } from 'antd';\nimport moment from 'moment-timezone';\nimport { loadAllReq, acceptReq } from '../../redux/airpick.redux';\nimport RenderEmpty from '@/component/Empty/CustomEmpty';\n\nconst { Column } = Table;\n\n@connect(state => state, { loadAllReq, acceptReq })\nclass AirReqList extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: true\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.props.loadAllReq().then(() => {\n\t\t\tthis.setState({ loading: false });\n\t\t});\n\t}\n\n\thandleAccept = request => {\n\t\tconst reqId = request._id;\n\t\tconst volunteer = this.props.user.username;\n\t\tthis.props.acceptReq(reqId, volunteer, this.props.airpick.list).then(() => {\n\t\t\tmessage.success(this.props.airpick.msg, 1);\n\t\t});\n\t};\n\n\trender () {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<ConfigProvider renderEmpty={RenderEmpty}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tdataSource={this.props.airpick.list}\n\t\t\t\t\t\n\t\t\t\t\t\tloading={this.state.loading}\n\t\t\t\t\t\tpagination={{ hideOnSinglePage:true,showQuickJumper:true }}\n\t\t\t\t\t\ttableLayout='fixed'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Accept'\n\t\t\t\t\t\t\tkey='accept'\n\t\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\t\t// TODO: add click event\n\t\t\t\t\t\t\t\tif (this.props.user.username === record.request.username) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Button type='ghost' size='small' disabled>\n\t\t\t\t\t\t\t\t\t\t\tAccept\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype='primary'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleAccept(record.request)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAccept\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Name'\n\t\t\t\t\t\t\tdataIndex={['user', 'displayName']}\n\t\t\t\t\t\t\tkey='name'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Time'\n\t\t\t\t\t\t\tkey='time'\n\t\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\t\treturn moment(record.request.arrivalTime)\n\t\t\t\t\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t\t\t\t\t.format('ddd, MMM Do YYYY HH:mm');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Airport/Address'\n\t\t\t\t\t\t\tdataIndex={['request', 'airport']}\n\t\t\t\t\t\t\tkey='airport'\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Luggage'\n\t\t\t\t\t\t\tdataIndex={['request', 'luggage']}\n\t\t\t\t\t\t\tkey='luggage'\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Carryon'\n\t\t\t\t\t\t\tdataIndex={['request', 'carryon']}\n\t\t\t\t\t\t\tkey='carryon'\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Notes'\n\t\t\t\t\t\t\tdataIndex={['request', 'notes']}\n\t\t\t\t\t\t\tkey='notes'\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t</Table>\n\t\t\t\t</ConfigProvider>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default AirReqList;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Table, Button, message, ConfigProvider } from 'antd';\nimport moment from 'moment-timezone';\nimport { loadAllReq, acceptReq } from '../../redux/lodge.redux';\nimport RenderEmpty from '@/component/Empty/CustomEmpty';\n\nconst { Column } = Table;\n\n@connect(state => state, { loadAllReq, acceptReq })\nclass LodgeReqList extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: true\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.props.loadAllReq().then(() => {\n\t\t\tthis.setState({ loading: false });\n\t\t});\n\t}\n\n\n\thandleAccept = request => {\n\t\t// console.log(1);\n\t\tconst reqId = request._id;\n\t\tconst volunteer = this.props.user.username;\n\t\tthis.props.acceptReq(reqId, volunteer, this.props.lodge.list).then(() => {\n\t\t\t// console.log(this.props);\n\t\t\tmessage.success(this.props.airpick.msg, 1);\n\t\t});\n\t};\n\n\trender () {\n\t\t// console.log(this.props);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<ConfigProvider renderEmpty={RenderEmpty}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tdataSource={this.props.lodge.list}\n\t\t\t\t\t\n\t\t\t\t\t\tloading={this.state.loading}\n\t\t\t\t\t\tpagination={{ hideOnSinglePage:true,showQuickJumper:true }}\n\t\t\t\t\t\ttableLayout='fixed'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Accept'\n\t\t\t\t\t\t\tkey='accept'\n\t\t\t\t\t\t\trender={(text, record) => {\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (this.props.user.username === record.request.username) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Button type='ghost' size='small' disabled>\n\t\t\t\t\t\t\t\t\t\t\tAccept\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype='primary'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleAccept(record.request)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAccept\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Column> \n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Name'\n\t\t\t\t\t\t\tdataIndex={['user', 'displayName']}\n\t\t\t\t\t\t\tkey='name'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Pickup Location'\n\t\t\t\t\t\t\tdataIndex={['request', 'pickupLocation']}\n\t\t\t\t\t\t\tkey='pickupLocation'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Start date'\n\t\t\t\t\t\t\tkey='stateDate'\n\t\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\t\treturn moment(record.request.startDate)\n\t\t\t\t\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t\t\t\t\t.format('ddd, MMM Do YYYY');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle='Leave date'\n\t\t\t\t\t\t\tkey='leaveDate'\n\t\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\t\treturn moment(record.request.leaveDate)\n\t\t\t\t\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t\t\t\t\t.format('ddd, MMM Do YYYY');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\ttitle = \"Notes\"\n\t\t\t\t\t\t\tkey=\"nontes\"\n\t\t\t\t\t\t\tdataIndex = {['request','notes']}\n\t\t\t\t\t\t></Column>\n\t\t\t\t\t</Table>\n\t\t\t\t\t\n\t\t\t\t</ConfigProvider>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LodgeReqList;\n","import React from 'react';\nimport { Typography, Divider, Tag } from 'antd';\nimport AirReqList from '../../component/Volunteer/AirReqList';\nimport LodgeReqList from '../../component/Volunteer/LodgeReqList';\n\nconst { Title, Paragraph } = Typography;\n\nclass AllPickReq extends React.Component {\n\trender () {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Typography style={{ padding: '15px' }}>\n\t\t\t\t\t<Title level={3} style={{ textAlign: 'center' }}>\n\t\t\t\t\tAirport Pickup Requests\n\t\t\t\t\t</Title>\n\n\t\t\t\t\t<Paragraph style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t<Tag color='red'>Note:</Tag>\n\t\t\t\t\tThis page lists all the airport pick-up requests. To accept one,\n\t\t\t\t\tsimply click the &apos;Accept&apos; button on the left of that request.\n\t\t\t\t\t</Paragraph>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<AirReqList></AirReqList>\n\t\t\t\t</Typography>\n\n\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default AllPickReq;\n","import React from 'react';\nimport { Typography, Divider, Tag } from 'antd';\nimport AirReqList from '../../component/Volunteer/AirReqList';\nimport LodgeReqList from '../../component/Volunteer/LodgeReqList';\n\nconst { Title, Paragraph } = Typography;\n\nclass AllLodgeReq extends React.Component {\n\trender () {\n\t\treturn (\n\t\t\t<div>\n\n\t\t\t\t<Typography style={{ padding: '15px' }}>\n\t\t\t\t\t<Title level={3} style={{ textAlign: 'center' }}>\n\t\t\t\t\tLodge Requests\n\t\t\t\t\t</Title>\n\n\t\t\t\t\t<Paragraph style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t<Tag color='red'>Note:</Tag>\n\t\t\t\t\tThis page lists all the Lodge requests. To accept one,\n\t\t\t\t\tsimply click the &apos;Accept&apos; button on the left of that request.\n\t\t\t\t\t</Paragraph>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<LodgeReqList></LodgeReqList>\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default AllLodgeReq;\n","// let volunteer confirm to cancel a request\nimport React from 'react';\nimport { Modal, message } from 'antd';\nimport { cancelRequest } from '../../redux/airpick.redux';\nimport { cancelLodgeRequest } from '../../redux/lodge.redux';\nimport { useDispatch } from 'react-redux';\n\nexport const CancelModal = ({ visible,reqType ,reqId, changeVsb, volunteerId }) => {\n\tconst dispatch = useDispatch();\n\tconst onOk = () => {\n\t\tif (reqType == 'airpick') {\n\t\t\tdispatch(cancelRequest(reqId, volunteerId)).then(() => {\n\t\t\t\tmessage.success('Cancel successfully', 1);\n\t\t\t\t// console.log('ok');\n\t\t\t});\n\t\t}\n\t\telse if (reqType == 'lodge') {\n\t\t\t// console.log('cancel Lodge Req');\n\t\t\tdispatch(cancelLodgeRequest(reqId, volunteerId)).then(() => {\n\t\t\t\tmessage.success('Cancel successfully', 1);\n\t\t\t\t// console.log('ok');\n\t\t\t});\n\t\t}\n\t\tchangeVsb(false);\n\t};\n\tconst onCancel = () => {\n\t\tchangeVsb(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{reqId ? (\n\t\t\t\t<Modal\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\ttitle='Confirm cancelling request'\n\t\t\t\t\tonOk={onOk}\n\t\t\t\t\tonCancel={onCancel}\n\t\t\t\t>\n\t\t\t\t\t<h3>Are you sure you want to cancel this request?</h3>\n\t\t\t\t\tThe requester will be notified by email, but we strongly encourage you\n\t\t\t\t\tto notify the requester via wechat or phone.\n\t\t\t\t</Modal>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Table, Button, Modal, Row, Col, ConfigProvider } from 'antd';\n\nimport { CancelModal } from './CancelModal';\nimport RenderEmpty from '@/component/Empty/CustomEmpty';\nimport moment from 'moment';\n\nconst { Column } = Table;\n\nexport const AirAcceptedList = () => {\n\tconst fontStyle = { fontSize: 16 };\n\tconst gutter = [0, 5];\n\n\t// hooks\n\tconst [modalState, setModalState] = useState({\n\t\tvisible: false\n\t});\n\tconst [cancelModal, setCancelModal] = useState({\n\t\tvisible: false\n\t});\n\tconst userState = useSelector(state => state.user);\n\tconst reqState = useSelector(state => state.airpick);\n\t//functions to handle modal\n\tconst handleOk = () => {\n\t\tsetModalState({ ...modalState, visible: false });\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetModalState({ ...modalState, visible: false });\n\t};\n\n\tconst cancelReq = e => {\n\t\t// console.log(e);\n\t\tsetCancelModal({\n\t\t\treqType:'airpick',\n\t\t\treqId: e.key,\n\t\t\tvisible: true,\n\t\t\tvolunteerId: userState.username\n\t\t});\n\t};\n\t// wait for loading\n\t// console.log(reqState);\n\tif (reqState.acceptedAirPick === undefined) {\n\t\treturn null;\n\t}\n\tconst acceptedList = reqState.acceptedAirPick.map(v => ({\n\t\t...v,\n\t\tkey: v.acceptedReq._id\n\t}));\n\t// console.log(acceptedList);\n\n\treturn (\n\t\t<div>\n\t\t\t<ConfigProvider renderEmpty={RenderEmpty}>\n\t\t\t\t<Table\n\t\t\t\t\tdataSource={acceptedList}\n\t\t\t\t\tloading={acceptedList ? false : true}\n\t\t\t\t\tpagination={{ pageSize:5,hideOnSinglePage:true,showQuickJumper:true }}\n\t\t\t\t\ttableLayout='fixed'\n\t\t\t\t>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Cancel'\n\t\t\t\t\t\tkey='cancel'\n\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tonClick={() => cancelReq(record)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tcancel\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></Column>\n\t\t\t\t\t<Column title='Name' dataIndex={['userInfo', 'firstName']}></Column>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Contact'\n\t\t\t\t\t\tkey='contact'\n\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype='primary'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tsetModalState({\n\t\t\t\t\t\t\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\t\t\t\t\t\t\tuserInfo: record.userInfo\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tContact\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Time'\n\t\t\t\t\t\tkey='time'\n\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\treturn moment(record.acceptedReq.arrivalTime)\n\t\t\t\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t\t\t\t.format('ddd, MMM Do YYYY HH:mm');\n\t\t\t\t\t\t}}\n\t\t\t\t\t></Column>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Airport/Address'\n\t\t\t\t\t\tdataIndex={['acceptedReq', 'airport']}\n\t\t\t\t\t\tkey='airport'\n\t\t\t\t\t></Column>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Luggage'\n\t\t\t\t\t\tdataIndex={['acceptedReq', 'luggage']}\n\t\t\t\t\t\tkey='luggage'\n\t\t\t\t\t></Column>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Carryon'\n\t\t\t\t\t\tdataIndex={['acceptedReq', 'carryon']}\n\t\t\t\t\t\tkey='carryon'\n\t\t\t\t\t></Column>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Notes'\n\t\t\t\t\t\tdataIndex={['acceptedReq', 'notes']}\n\t\t\t\t\t\tkey='notes'\n\t\t\t\t\t></Column>\n\t\t\t\t</Table>\n\t\t\t</ConfigProvider>\n\n\t\t\t<CancelModal\n\t\t\t\tvisible={cancelModal.visible}\n\t\t\t\treqType = {cancelModal.reqType}\n\t\t\t\treqId={cancelModal.reqId}\n\t\t\t\tvolunteerId={cancelModal.volunteerId}\n\t\t\t\tchangeVsb={vsb => setCancelModal({ ...cancelModal, visible: vsb })}\n\t\t\t></CancelModal>\n\t\t\t{modalState.userInfo ? (\n\t\t\t\t<Modal\n\t\t\t\t\twidth={550}\n\t\t\t\t\ttitle={modalState.userInfo.firstName + '\\'s Contact Information'}\n\t\t\t\t\tvisible={modalState.visible}\n\t\t\t\t\tonOk={handleOk}\n\t\t\t\t\tonCancel={handleCancel}\n\t\t\t\t>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tName\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{modalState.userInfo.displayName}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tE-mail\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{modalState.userInfo.email}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tWechat\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{modalState.userInfo.wechatId}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tUS Phone\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{modalState.userInfo.phone}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Modal>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\n\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Table, Button, Modal, Row, Col, ConfigProvider } from 'antd';\nimport { loadAcceptedLodge } from '../../redux/lodge.redux';\nimport { CancelModal } from './CancelModal';\nimport RenderEmpty from '@/component/Empty/CustomEmpty';\nimport moment from 'moment';\n\nconst { Column } = Table;\n\nexport const LodgeAcceptedList = () => {\n\t\n\tconst fontStyle = { fontSize: 16 };\n\tconst gutter = [0, 5];\n\t// hooks\n\tconst [modalState, setModalState] = useState({\n\t\tvisible: false\n\t});\n\tconst [cancelModal, setCancelModal] = useState({\n\t\tvisible: false\n\t});\n\tconst userState = useSelector(state => state.user);\n\tconst reqState = useSelector(state => state.lodge);\n\t// const dispatch = useDispatch();\n\t// useEffect(() => {\n\t// \tif (userState.username) {\n\t// \t\tdispatch(loadAcceptedLodge(userState.username));\n\t// \t}\n\t// }, [dispatch, userState.username]);\n\n\t//functions to handle modal\n\n\n\t// console.log(reqState);\n\tconst handleOk = e => {\n\t\tsetModalState({ ...modalState, visible: false });\n\t};\n\n\tconst handleCancel = e => {\n\t\tsetModalState({ ...modalState, visible: false });\n\t};\n\n\tconst cancelReq = e => {\n\t\t// console.log(e);\n\t\tsetCancelModal({\n\t\t\treqId: e.key,\n\t\t\treqType:'lodge',\n\t\t\tvisible: true,\n\t\t\tvolunteerId: userState.username\n\t\t});\n\t};\n\t// wait for loading\n\tif (reqState.acceptedLodge === undefined) {\n\t\treturn null;\n\t}\n\tconst acceptedList = reqState.acceptedLodge.map(v => ({\n\t\t...v,\n\t\tkey: v.acceptedReq._id\n\t}));\n\t// console.log(acceptedList);\n\n\treturn (\n\t\t<div>\n\t\t\t<ConfigProvider renderEmpty={RenderEmpty}>\n\t\t\t\t<Table\n\t\t\t\t\tdataSource={acceptedList}\n\t\t\t\t\tloading={acceptedList ? false : true}\n\t\t\t\t\tpagination={{ pageSize:5,hideOnSinglePage:true,showQuickJumper:true }}\n\t\t\t\t\ttableLayout='fixed'\n\t\t\t\t>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Cancel'\n\t\t\t\t\t\tkey='cancel'\n\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tonClick={() => cancelReq(record)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tcancel\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></Column>\n\t\t\t\t\t<Column title='Name' dataIndex={['userInfo', 'firstName']}></Column>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Contact'\n\t\t\t\t\t\tkey='contact'\n\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype='primary'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tsetModalState({\n\t\t\t\t\t\t\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\t\t\t\t\t\t\tuserInfo: record.userInfo\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tContact\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle=\"Pickup Location\"\n\t\t\t\t\t\tkey='pickupLocation'\n\t\t\t\t\t\tdataIndex={['acceptedReq', 'pickupLocation']}\n\t\t\t\t\t></Column>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Start Date'\n\t\t\t\t\t\tkey = 'startDate'\n\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\treturn moment(record.acceptedReq.startDate)\n\t\t\t\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t\t\t\t.format('ddd, MMM Do YYYY');\n\t\t\t\t\t\t}}\n\t\t\t\t\t></Column>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Leave Date'\n\t\t\t\t\t\tkey = 'leaveDate'\n\t\t\t\t\t\trender={(text, record) => {\n\t\t\t\t\t\t\treturn moment(record.acceptedReq.leaveDate)\n\t\t\t\t\t\t\t\t.tz('America/New_York')\n\t\t\t\t\t\t\t\t.format('ddd, MMM Do YYYY');\n\t\t\t\t\t\t}}\n\t\t\t\t\t></Column>\n\t\t\t\t\t<Column\n\t\t\t\t\t\ttitle='Notes'\n\t\t\t\t\t\tdataIndex={['acceptedReq', 'notes']}\n\t\t\t\t\t\tkey='notes'\n\t\t\t\t\t></Column>\n\t\t\t\t</Table>\n\t\t\t</ConfigProvider>\n\n\t\t\t<CancelModal\n\t\t\t\tvisible={cancelModal.visible}\n\t\t\t\treqType={cancelModal.reqType}\n\t\t\t\treqId={cancelModal.reqId}\n\t\t\t\tvolunteerId={cancelModal.volunteerId}\n\t\t\t\tchangeVsb={vsb => setCancelModal({ ...cancelModal, visible: vsb })}\n\t\t\t></CancelModal>\n\t\t\t{modalState.userInfo ? (\n\t\t\t\t<Modal\n\t\t\t\t\twidth={550}\n\t\t\t\t\ttitle={modalState.userInfo.firstName + '\\'s Contact Information'}\n\t\t\t\t\tvisible={modalState.visible}\n\t\t\t\t\tonOk={handleOk}\n\t\t\t\t\tonCancel={handleCancel}\n\t\t\t\t>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tName\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{modalState.userInfo.displayName}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tE-mail\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{modalState.userInfo.email}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tWechat\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{modalState.userInfo.wechatId}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row gutter={gutter}>\n\t\t\t\t\t\t<Col span={4} style={fontStyle}>\n\t\t\t\t\t\t\tUS Phone\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={14} style={fontStyle} offset={4}>\n\t\t\t\t\t\t\t{modalState.userInfo.phone}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Modal>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\n\n","import React from 'react';\nimport { Typography, Divider, Tag } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { AirAcceptedList } from '../../component/Volunteer/AirAcceptedList';\nimport { LodgeAcceptedList } from '../../component/Volunteer/LodgeAcceptedList';\nimport { loadAcceptedLodge } from '../../redux/lodge.redux';\nimport { loadAcceptedAirpick } from '@/redux/airpick.redux';\n\nconst { Title, Paragraph } = Typography;\n\nconst MyAccept = () => {\n\t// using useSelector hook to get user store from redux\n\tconst userState = useSelector(state => state.user);\n\tconst dispatch = useDispatch();\n\tuseEffect(() => {\n\t\tif (userState.username) {\n\t\t\tdispatch(loadAcceptedAirpick(userState.username));\n\t\t\tdispatch(loadAcceptedLodge(userState.username));\n\t\t}\n\t}, [dispatch, userState.username]);\n\n\n\n\tif (userState) {\n\t\treturn (\n\t\t\t<Typography style={{ padding: '15px' }}>\n\t\t\t\t<Title level={3} style={{ textAlign: 'center' }}>\n\t\t\t\t\tAccepted Requests\n\t\t\t\t</Title>\n\t\t\t\t<Paragraph style={{ textAlign: 'center', fontSize: 14 }}>\n\t\t\t\t\t<Tag color='red'>Note:</Tag>\n\t\t\t\t\tThank you for being a volunteer, {userState.firstName}!<br></br>\n\t\t\t\t\tHere is the list of requests you accepted. We strongly suggest adding\n\t\t\t\t\tthe new student as a WeChat friend to communicate about any possible\n\t\t\t\t\tchanges.\n\t\t\t\t</Paragraph>\n\t\t\t\t<Divider></Divider>\n\t\t\t\t<AirAcceptedList></AirAcceptedList>\n\t\t\t\t<br></br>\n\t\t\t\t<br></br>\n\t\t\t\t<LodgeAcceptedList></LodgeAcceptedList>\n\t\t\t</Typography>\n\t\t);\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport default MyAccept;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { Form, Input, Button, message } from 'antd';\nimport { useSelector } from 'react-redux';\n\nexport default function ChangePassword () {\n\tconst user = useSelector(state => state.user);\n\tconst history = useHistory();\n\n\tconst formItemLayout = {\n\t\tlabelCol: {\n\t\t\txs: { span: 18 },\n\t\t\tsm: { span: 8 }\n\t\t},\n\t\twrapperCol: {\n\t\t\txs: { span: 18 },\n\t\t\tsm: { span: 10 }\n\t\t}\n\t};\n\n\tconst tailFormItemLayout = {\n\t\twrapperCol: {\n\t\t\txs: {\n\t\t\t\tspan: 24,\n\t\t\t\toffset: 0\n\t\t\t},\n\t\t\tsm: {\n\t\t\t\tspan: 16,\n\t\t\t\toffset: 8\n\t\t\t}\n\t\t}\n\t};\n  \n\tconst [form] = Form.useForm();\n  \n\tconst onFinish = function submitForm (values) {\n\t\taxios.put(\n\t\t\t'/api/user/editpassword',\n\t\t\t{ \n\t\t\t\tusername: user.username, \n\t\t\t\tnewPassword: values.newPass, \n\t\t\t\toldPassword: values.oldPass \n\t\t\t},\n\t\t).then((res) => {\n\t\t\tif (res.data.code === 0) {\n\t\t\t\tmessage.success('Update password successfully!');\n\t\t\t\thistory.push('/myrequestcenter');\n\t\t\t} else {\n\t\t\t\tmessage.error(res.data.msg);\n\t\t\t}\n\t\t}).catch();\n\t};\n\n\tconst onFinishFailed = function submitFormFailed (errorInfo) {\n\t\t// console.log(errorInfo);\n\t\tform.scrollToField(errorInfo.errorFields[0].name);\n\t};\n  \n\treturn (\n\t\t<div>\n\t\t\t<Form\n\t\t\t\t{...formItemLayout}\n\t\t\t\tform={form}\n\t\t\t\tname=\"editPassword\"\n\t\t\t\tonFinish={onFinish}\n\t\t\t\tonFinishFailed={onFinishFailed}\n\t\t\t>\n\t\t\t\t<Form.Item\n\t\t\t\t\tname=\"oldPass\"\n\t\t\t\t\tlabel=\"Old Password\"\n\t\t\t\t\trules={[{ required: true, message: 'Please input your old password' }]}\n\t\t\t\t>\n\t\t\t\t\t<Input.Password></Input.Password>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item\n\t\t\t\t\tname=\"newPass\"\n\t\t\t\t\tlabel=\"New Password\"\n\t\t\t\t\trules={[{ required: true, message: 'Please input your old password' }]}\n\t\t\t\t\thasFeedback\n\t\t\t\t>\n\t\t\t\t\t<Input.Password></Input.Password>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item\n\t\t\t\t\tname=\"confirmNewPass\"\n\t\t\t\t\tlabel=\"Confirm New Password\"\n\t\t\t\t\tdependencies={['newPass']}\n\t\t\t\t\thasFeedback\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{ required: true, message: 'Please confirm your new password' },\n\t\t\t\t\t\t({ getFieldValue }) => ({\n\t\t\t\t\t\t\tvalidator (rule, value) {\n\t\t\t\t\t\t\t\tif (!value || getFieldValue('newPass') === value) {\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn Promise.reject('Two paswords you entered do not match!');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input.Password></Input.Password>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item \n\t\t\t\t\t{...tailFormItemLayout}\n\t\t\t\t>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\n            Update\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React from 'react';\nimport { Typography } from 'antd';\nimport EditPasswordForm from '@/component/UserCenter/EditPassword';\nconst Paragraph = Typography;\n\nexport const EditPassword = () => {\n\treturn (\n\t\t<div>\n\t\t\t<Paragraph className='title-middle'>\n\t\t\t\t<h3>Edit Profile</h3>\n\t\t\t</Paragraph>\n\t\t\t<EditPasswordForm></EditPasswordForm>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ isAuth, component: Component, ...rest }) => {\n\tconst publicPath = ['/', '/login', '/register'];\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\trender={props => {\n\t\t\t\tif (isAuth === undefined) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\treturn isAuth ? (\n\t\t\t\t\t\t<Component {...props} />\n\t\t\t\t\t) : publicPath.indexOf(props.location.pathname) === -1 ? (\n\t\t\t\t\t\t<Redirect to='/login' />\n\t\t\t\t\t) : null;\n\t\t\t\t}\n\t\t\t}}\n\t\t></Route>\n\t);\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { useEffect } from 'react';\nimport { UserOutlined } from '@ant-design/icons';\nimport { Form, Input, Button } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { editProfile } from '../../redux/user.redux';\n\nexport const EditProfileForm = () => {\n\tconst user = useSelector(state => state.user);\n\n\tconst dispatch = useDispatch();\n\n\tconst phoneValidator = (rule, value) => {\n\t\tif (!value || !value.length || /^\\d{10}$/.test(value)) {\n\t\t\treturn Promise.resolve();\n\t\t} else {\n\t\t\treturn Promise.reject('Invalid US Phone Number!');\n\t\t}\n\t};\n\n\tconst formItemLayout = {\n\t\tlabelCol: {\n\t\t\txs: { span: 18 },\n\t\t\tsm: { span: 8 }\n\t\t},\n\t\twrapperCol: {\n\t\t\txs: { span: 18 },\n\t\t\tsm: { span: 10 }\n\t\t}\n\t};\n\n\tconst tailFormItemLayout = {\n\t\twrapperCol: {\n\t\t\txs: {\n\t\t\t\tspan: 24,\n\t\t\t\toffset: 0\n\t\t\t},\n\t\t\tsm: {\n\t\t\t\tspan: 16,\n\t\t\t\toffset: 8\n\t\t\t}\n\t\t}\n\t};\n\n\tconst [form] = Form.useForm();\n\n\tuseEffect(() => {\n\t\tform.setFieldsValue({\n\t\t\tfirstName: user.firstName,\n\t\t\tlastName: user.lastName,\n\t\t\temail: user.email,\n\t\t\tphone: user.phone,\n\t\t\tusername: user.username\n\t\t});\n\t}, [dispatch, form, user.email, user.firstName, user.lastName, user.phone, user.username]);\n\n\tconst onFinish = values => {\n\t\tlet userProfile = { _id: user._id, ...values };\n\t\t// console.log(editProfile(userProfile));\n\t\tdispatch(editProfile(userProfile));\n\t};\n\n\tconst onFinishFailed = ({ errorfields }) => {\n\t\tform.scrollToField(errorfields);\n\t};\n\n\treturn (\n\t\t<Form\n\t\t\t{...formItemLayout}\n\t\t\tform={form}\n\t\t\tname='editProfile'\n\t\t\tonFinish={onFinish}\n\t\t\tonFinishFailed={onFinishFailed}\n\t\t>\n\t\t\t<Form.Item\n\t\t\t\tname='firstName'\n\t\t\t\tlabel='First Name'\n\t\t\t\trules={[\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: 'Please input your first name!'\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Input\n\t\t\t\t\tprefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\tplaceholder='First Name'\n\t\t\t\t/>\n\t\t\t</Form.Item>\n\t\t\t<Form.Item\n\t\t\t\tname='lastName'\n\t\t\t\tlabel='Last Name'\n\t\t\t\trules={[\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: 'Please input your Last name!'\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Input\n\t\t\t\t\tprefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\tplaceholder='LastName'\n\t\t\t\t/>\n\t\t\t</Form.Item>\n\t\t\t<Form.Item\n\t\t\t\tname='email'\n\t\t\t\tlabel='E-mail'\n\t\t\t\trules={[\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'email',\n\t\t\t\t\t\tmessage: 'The input is not valid E-mail!'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: 'Please input your E-mail!'\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Input placeholder='Email' />\n\t\t\t</Form.Item>\n\t\t\t<Form.Item\n\t\t\t\tname='phone'\n\t\t\t\tlabel='US Phone Number'\n\t\t\t\trules={[\n\t\t\t\t\t{\n\t\t\t\t\t\tvalidator: phoneValidator\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Input type='String' placeholder='US Phone Number' />\n\t\t\t</Form.Item>\n\t\t\t<Form.Item {...tailFormItemLayout}>\n\t\t\t\t<Button type='primary' htmlType='submit'>\n\t\t\t\t\tUpdate\n\t\t\t\t</Button>\n\t\t\t</Form.Item>\n\t\t</Form>\n\t);\n};\n","import React from 'react';\nimport { Typography } from 'antd';\nimport { EditProfileForm } from '../../component/UserCenter/EditProfileForm';\nconst Paragraph = Typography;\n\nexport const EditProfile = () => {\n\treturn (\n\t\t<div>\n\t\t\t<Paragraph className='title-middle'>\n\t\t\t\t<h3>Edit Profile</h3>\n\t\t\t</Paragraph>\n\t\t\t<EditProfileForm></EditProfileForm>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport { loadData } from '../../redux/user.redux';\nimport { connect } from 'react-redux';\nimport NavBar from '../NavBar/NavBar';\nimport { Route, Switch } from 'react-router-dom';\nimport Login from '../../container/auth/Login';\nimport Register from '../../container/auth/Register';\nimport MyRequest from '../../container/myRequest/MyRequest';\nimport AllPickReq from '../../container/Volunteer/AllPickReq';\nimport AllLodgeReq from '@/container/Volunteer/AllLodgeReq';\nimport MyAccept from '../../container/Volunteer/MyAccept';\nimport { EditPassword } from '@/container/UserCenter/EditPassword';\nimport PrivateRoute from './PrivateRoute';\nimport { EditProfile } from '../../container/UserCenter/EditProfile';\n\n\nfunction Home () {\n\treturn (\n\t\t<section>\n\t\t\t<div className='background'>\n\t\t\t\t<br />\n\t\t\t\t<center>\n\t\t\t\t\t<img src={require('../../img/brand/CSA logo.png')} alt='CSA logo' className='center' />\n\t\t\t\t\t<pre className='highlight highlight-dark'>\n\t\t\t\t\t\t<p className='h1'>Welcome to the Gator Nation!</p>\n\t\t\t\t\t</pre>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className='highlight single-step'>\n\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t<p className='typewriter english'>CSA would like to wish you all a pleasant trip. To ensure safe and efficient pick-ups for new students and our volunteers, we coordinate travel agendas here through the pick-up system. </p>\n\t\t\t\t\t\t\t<p className='typewriter english'>Please follow the registration and restrictions guidelines accordingly.</p>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t</center>\n\t\t\t\t<p />\n\t\t\t\t<div className='single-step'>\n\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t<p className='english'>Important announcement: CSA is a non-profit student organization under the UF Student Government. \n\t\t\t\t\t\tThis application serves only as a platform for new international students to find a ride home.\n\t\t\t\t\t\tCSA never charges new students in any way shape or form. If you come across a volunteer that asks for a payment,\n\t\t\t\t\t\tplease <a href='mailto:ufcsainfo@gmail.com'>inform CSA</a> immediately, or contact a CSA member to report the incident. </p>\n\t\t\t\t\t\t<p className='chinese'>重要声明：CSA作为UF学生政府下属的官方非营利性组织，本接机系统的作用仅限于提供新同学联系志愿者接机的平台，\n\t\t\t\t\t\t\tCSA不以任何形式向新同学收费。如遇志愿者收费行为，请及时与我们<a href='mailto:ufcsainfo@gmail.com'>联系</a>。</p>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t\t<div className='main_body'>\n\t\t\t\t<div className='body_detail'>\n\t\t\t\t\t<p className='bottom'>\n\t\t\t\t\t\t<br />© Copyright 2020 UFCSA Chinese Student\n\t\t\t\t\t\t<br />Association at University of Florida\n\t\t\t\t\t\t<br />佛罗里达大学中国学生会\n\t\t\t\t\t\t<br />All Rights Reserved.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nfunction NoMatch () {\n\treturn <p>404 Not Found</p>;\n}\n\nconst navListRouting = (navList, isAuth) => {\n\tconst routers = [];\n\tnavList.forEach(op => {\n\t\tif (op.text === 'UF CSA Airpick') {\n\t\t\trouters.push(\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tkey={op.text}\n\t\t\t\t\tpath={op.path}\n\t\t\t\t\tcomponent={op.component}\n\t\t\t\t></Route>\n\t\t\t);\n\t\t} else if (op.text === 'Volunteer') {\n\t\t\tconst sublist = op.subItem;\n\t\t\tsublist.forEach(it => {\n\t\t\t\trouters.push(\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\tkey={it.text}\n\t\t\t\t\t\tpath={it.path}\n\t\t\t\t\t\tcomponent={it.component}\n\t\t\t\t\t\tisAuth={isAuth}\n\t\t\t\t\t></PrivateRoute>\n\t\t\t\t);\n\t\t\t});\n\t\t} else if (op.text === 'usercenter') {\n\t\t\top.subItem.forEach(it => {\n\t\t\t\tif (it.text !== 'Sign out') {\n\t\t\t\t\trouters.push(\n\t\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\t\tkey={it.text}\n\t\t\t\t\t\t\tpath={it.path}\n\t\t\t\t\t\t\tcomponent={it.component}\n\t\t\t\t\t\t\tisAuth={isAuth}\n\t\t\t\t\t\t></PrivateRoute>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif (op.auth) {\n\t\t\t\trouters.push(\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\tkey={op.text}\n\t\t\t\t\t\tpath={op.path}\n\t\t\t\t\t\tcomponent={op.component}\n\t\t\t\t\t\tisAuth={isAuth}\n\t\t\t\t\t></PrivateRoute>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\trouters.push(\n\t\t\t\t\t<Route key={op.text} path={op.path} component={op.component}></Route>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t});\n\n\trouters.push(<Route key='nomatch' component={NoMatch}></Route>);\n\treturn routers;\n};\n\n@withRouter\n@connect(state => state, { loadData })\nclass AuthRoute extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\t// console.log('checking if logged');\n\n\t\tconst publicList = ['/login', '/register'];\n\t\tconst pathname = this.props.location.pathname;\n\t\tif (publicList.indexOf(pathname) === -1) {\n\t\t\taxios.get('/api/user/info').then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tthis.props.loadData(res.data.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// console.log('going to login');\n\t\t\t\t\t\tthis.props.history.push('/login');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trender () {\n\t\tconst isAuth = this.props.user.isAuth;\n\t\tconst rightNavbarClass = 'navbar-right header-nav';\n\t\tconst leftNavbarClass = 'navbar-left header-nav';\n\t\t\n\t\tconst home = [\n\t\t\t{\n\t\t\t\tpath: '/',\n\t\t\t\ttext: 'UF CSA Airpick',\n\t\t\t\tcomponent: Home,\n\t\t\t\tclassName: 'navbar-title',\n\t\t\t\tauth: false,\n\t\t\t\thide: false\n\t\t\t}\n\t\t];\n\t\tconst needAuth = [\n\t\t\t{\n\t\t\t\tpath: '/myrequestcenter',\n\t\t\t\ttext: 'My Requests',\n\t\t\t\tclassName: '',\n\t\t\t\thide: !isAuth,\n\t\t\t\tcomponent: MyRequest,\n\t\t\t\tauth: true\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: 'Volunteer',\n\t\t\t\thide: !isAuth,\n\t\t\t\tsubItem: [\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: '/airpicklist',\n\t\t\t\t\t\ttext: 'Airpick Requests',\n\t\t\t\t\t\tcomponent: AllPickReq,\n\t\t\t\t\t\tauth: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: '/lodgelist',\n\t\t\t\t\t\ttext: 'Lodge Requests',\n\t\t\t\t\t\tcomponent: AllLodgeReq,\n\t\t\t\t\t\tauth: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: '/accepted',\n\t\t\t\t\t\ttext: 'My Acception',\n\t\t\t\t\t\tcomponent: MyAccept,\n\t\t\t\t\t\tauth: true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t];\n\t\tconst userAuth = [\n\t\t\t{\n\t\t\t\tpath: '/register',\n\t\t\t\ttext: 'Register',\n\t\t\t\tcomponent: Register,\n\t\t\t\tclassName: rightNavbarClass,\n\t\t\t\thide: isAuth,\n\t\t\t\tauth: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: '/login',\n\t\t\t\ttext: 'Login',\n\t\t\t\tcomponent: Login,\n\t\t\t\tclassName: rightNavbarClass,\n\t\t\t\thide: isAuth,\n\t\t\t\tauth: false\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: 'usercenter',\n\t\t\t\thide: !isAuth,\n\t\t\t\tclassName: rightNavbarClass,\n\t\t\t\tsubItem: [\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: '/edit-profile',\n\t\t\t\t\t\ttext: 'Edit Profile',\n\t\t\t\t\t\tcomponent: EditProfile,\n\t\t\t\t\t\tauth: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: '/change-password',\n\t\t\t\t\t\ttext: 'Change Password',\n\t\t\t\t\t\tcomponent: EditPassword,\n\t\t\t\t\t\tauth: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: 'Sign out',\n\t\t\t\t\t\tauth: true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t];\n\n\t\tconst allRouteList = [...home, ...needAuth, ...userAuth];\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className='header'>\n\t\t\t\t\t<div className='logo'>\n\t\t\t\t\t\t<NavBar data={home}></NavBar>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={rightNavbarClass}>\n\t\t\t\t\t\t<NavBar data={userAuth}></NavBar>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={leftNavbarClass}>\n\t\t\t\t\t\t<NavBar data={needAuth}></NavBar>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=''>\n\t\t\t\t\t<Switch>{navListRouting(allRouteList, isAuth)}</Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default AuthRoute;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register (config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW (swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\t// console.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\t// console.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister () {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk'; //for async in redux\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport './loading';\nimport reducers from './reducers';\nimport AuthRoute from './component/AuthRoute/AuthRoute';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(\n\treducers,\n\tcompose(\n\t\tapplyMiddleware(thunk),\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__\n\t\t\t? window.__REDUX_DEVTOOLS_EXTENSION__()\n\t\t\t: f => f\n\t)\n);\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<BrowserRouter>\n\t\t\t<div>\n\t\t\t\t<AuthRoute></AuthRoute>\n\t\t\t</div>\n\t\t</BrowserRouter>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}